(function(_aoWin,_aoUndefined){var _sVer="QMWL/11.06.17",_oConfig=_aoWin.QMWLCfg||{},_oTopWin=_aoWin,_oRealTopWin=function(e){for(var t=_aoWin,n=_aoWin;t;)try{(t=t==t.parent?_aoUndefined:t.parent).document&&(n=t)}catch(i){}return n}(),_fQMWL=function(e,t,n){var i=this;i._moWin=e,t||n?(i._moOptData=t,i._msOptMode=n):(i._moOptData=e,i._msOptMode="non-json")},_nQMWLGuid=1,_fInstance=function(e){return e.QMWin||((e.$=e.Q=e.QMWin=new _fQMWL(e))._guid_=e._guid_=_nQMWLGuid++)&&(_fQMWL.instance_(e)||!0)&&e.$.ready()},_fIsQMWLObj=function(e){return e&&"function"==typeof e.ctor_&&e.ctor_()===_fQMWL},_oDebugMode={unt:900,dev:200,err:100,usr:0},_nUntType=_fQMWL.DBG_DEV_TYPE=_oDebugMode.unt,_nDevType=_fQMWL.DBG_DEV_TYPE=_oDebugMode.dev,_nErrType=_fQMWL.DBG_ERR_TYPE=_oDebugMode.err,_nUsrType=_fQMWL.DBG_USR_TYPE=_oDebugMode.usr,_nDebugType=_fQMWL.CFG_DBG_TYPE=(_oDebugMode[_oConfig.sMode]||_nUsrType)+1,_sCusErrType="_qMeRR_",_fDebug=function(){try{if(_fIsShowConsole()){var e=_fIsFunc(_fQMWL.debug)?_fCall(_fQMWL.debug,arguments):arguments,t=e&&e[0];if(!e)return this;0===e.length||(_aoWin.console&&_aoWin.console.log&&_aoWin.console.log(t),_aoWin.Console.debug.add(t,_fIsObj(t)&&!_fIsArr(t)?2:"code"))}}catch(n){}return this},_fHandleErr=function(e){try{!0!==_fCall(_fQMWL.handleErr,[e,_nErrType<=_nDebugType])&&_nErrType<_nDebugType&&_fIsShowConsole()&&_fDebug({msg:e.oErr.message,line:e.oErr.number||e.oErr.lineNumber||_aoUndefined,stack:e.oErr.stack,url:e.oErr.fileName,func:e.sName||e.fFunc?[e.sName,e.fFunc].join(":"):_aoUndefined,args:_fToArr(e.oArg)})}catch(t){}return this},_fIsShowConsole=function(){return!!_aoWin.Console||_aoWin.console&&_aoWin.console.log},_fSafe=function(t,n,i){return function(){try{return t.apply(this,arguments)}catch(e){if(_nDevType<_nDebugType&&e&&(!i||e.type!==_sCusErrType)&&_fHandleErr({oErr:e,sName:n,fFunc:t,oContext:this,oArg:arguments}),_nDebugType==_nUntType+1)throw e;i&&_fThrowException(e&&e.message,n)}return this}},_fSafeByConf=_nDevType<_nDebugType?_fSafe:function(e){return e},_fThrowException=function(){var e=arguments,t=e[0],n={type:e[2]||_sCusErrType,message:_fIsStr(t)&&(e[1]?[e[1],t].join(":"):t)};throw _fThrowException._nExceptionTime=_fNow(),_fIsStr(t)?n:_fExtend(n,t)},_fBindReady=function(e,t,n){var i=_fGetReadyInfo(e),o=(n||{}).oContext;i._bIsReady?_fCall(o||e.QMWin,t):(_fAddEvent(i,["ready",t,!1,e,o]),_fBoundReady(e,i))},_fBoundReady=function(t,e){var n,i;if(!e._bIsBound){if(e._bIsBound=!0,(n=t.document).documentElement,"complete"===n.readyState)return o();n.addEventListener?(i=function(){n.removeEventListener("DOMContentLoaded",i,!1),t.removeEventListener("load",i,!1),o()},n.addEventListener("DOMContentLoaded",i,!1),t.addEventListener("load",i,!1)):n.attachEvent&&(i=function(e){"complete"!==n.readyState&&"load"!==e.type||(n.detachEvent("onreadystatechange",i),t.detachEvent("onload",i),o())},n.attachEvent("onreadystatechange",i),t.attachEvent("onload",i))}function o(){if(!e._bIsReady){if(!n.body)return t.setTimeout(o,13);e._bIsReady=!0,_fFireCustomEvent(e,"ready")}}},_fGetReadyInfo=function(e){var t="_rEaDYinFO_",n=e[t];return _fIsNull(n)&&(n=e[t]={_bIsBound:!1,_bIsReady:!1}),n},_fGetById=function(e,t){return e.getElementById(t)},_fGetInDoc=function(e){return e.ownerDocument||e.document||e},_fGetInWin=function(e){var t=_fGetInDoc(e);return t.parentWindow||t.defaultView},_fInsertDetect=function(e,t){return!("TEXTAREA"==e.tagName&&("afterBegin"==t||"beforeEnd"==t))},_fInsertDom=function(e,t,n){if(_fInsertDetect(e,t))if(e.insertAdjacentElement)e.insertAdjacentElement(t||"beforeBegin",n);else switch(t){case"afterBegin":e.insertBefore(n,e.firstChild);break;case"beforeEnd":e.appendChild(n);break;case"afterEnd":e.parentNode[e.nextSibling?"insertBefore":"appendChild"](n,e.nextSibling);break;default:e.parentNode.insertBefore(n,e)}},_fInsertHtml=function(e,t,n){if(_fInsertDetect(e,t))if(e.insertAdjacentHTML)e.insertAdjacentHTML(t,n);else{var i=e.ownerDocument.createRange(),o=0==t.indexOf("before"),a=-1!=t.indexOf("Begin");if(o==a)i[o?"setStartBefore":"setStartAfter"](e),e.parentNode.insertBefore(i.createContextualFragment(n),a?e:e.nextSibling);else{var r=e[o?"lastChild":"firstChild"];r?(i[o?"setStartAfter":"setStartBefore"](r),e[o?"appendChild":"insertBefore"](i.createContextualFragment(n),r)):e.innerHTML=n}}},_nStatTime=0,_oExprNotWhite=/\S/,_fCall=function(e,t,n,i){var o,a,r,s=this;return _fIsFunc(e)?(a=e,r=t):_fIsFunc(t)?(s=e,a=t,r=n):_fIsFunc(o=e&&e[t])?(s=e,a=o,r=n):_fIsFunc(o=t&&t[n])&&(s=e,a=o,r=i),a&&_fSafe(a).apply(s,r||[])},_fCanLoop=function(e){return!_fIsNull(e)&&!_fIsStr(e)&&_fIsNum(e.length)&&!_fIsDom(e)&&!_fIsAccessibleWin(e)},_fEach=function(e,t,n,i,o){if(1===n)_fCall(this,i,["array"==t?e[0]:e,o||0,0]);else if(1<n)for(var a=0;a<n&&!1!==_fCall(this,i,[e[a],o||a,a]);a++);else if(n<0)for(var r in e)if(!1===_fCall(this,i,[e[r],o||r,r]))break;return this},_fEncodeURIComponent=encodeURIComponent,_fHtmlEncode=function(e){return e&&e.replace?e.replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\n/g,"<br/>"):e},_fExCreater=function(e){return function(){return _fIsFunc(e)&&e.apply(this,arguments),this}},_fExtend=function(){for(var e=arguments,t=e[0],n=1,i=e.length;n<i;n++){var o=e[n];for(var a in o)t[a]=o[a]}return t},_oExprFilteScript=/<script(.|\s)*?\/script>/gi,_fFilteScript=function(e){return e.replace(_oExprFilteScript,"")},_fFormatParam=function(e){return _fIsQMWLObj(e)?e.data(0):e},_fIsAccessibleWin=function(e){try{return!!e.setInterval}catch(t){return!1}},_fIsArr=function(e){return"[object Array]"==_fToStrEx.call(e)},_fIsDom=function(e){return!!e&&e.nodeType!==_aoUndefined},_fIsFunc=function(e){return"function"==typeof e},_oNull=null,_fIsNull=function(e){return e===_aoUndefined||e===_oNull},_fIsNaN=isNaN,_fIsNum=function(e){return"number"==typeof e&&!_fIsNaN(e)},_fIsObj=function(e){return"object"==typeof e},_fIsStr=function(e){return"string"==typeof e},_fNoop=function(){return this},_fNow=function(){return+new Date},_fParseInt=parseInt,_fRandom=Math.random,_fRegFilter=(Ua=/([\^\.\[\$\(\)\|\*\+\?\{\\])/gi,function(e){return e.replace(Ua,"\\$1")}),_fToArr=function(e){if(_fIsArr(e))return e;if(_fCanLoop(e)){for(var t=0,n=[],i=e.length;t<i;t++)n[t]=e[t];return n}return[e]},_fToMap=function(e,t){var n={};if(_fCanLoop(e))for(var i=0,o=e.length;i<o;i++)n[e[i]]=t;else _fIsNull(t)||(n[_asKeyOrVal]=e);return n},_fToNum=function(e,t){var n=_fParseInt(e);return _fIsNaN(n)&&_fIsNum(t)?t:n},_fToStr=function(e){return new String(e)},_fToStrEx=Object.prototype.toString,_fTrim=function(e){if(_fIsStr(e)){for(var t=/\s/,n=-1,i=e.length;t.test(e.charAt(--i)););for(;t.test(e.charAt(++n)););return e.slice(n,i+1)}},_fUnikey=function(e){return[e,_fNow(),_fRandom()].join("").split(".").join("")},_fUnique=function(){var n="_uNiQUe_",s=0;function c(e,t){if(_fIsObj(e)){if(e[n]!=s)return e[n]=s,!0}else if(!t[e])return t[e]=s,!0;return!1}return function(e){var t,n=e.length,i=[],o=-1,a=0,r={};for(++s;a<n;++a)c(t=e[a],r)&&(i[++o]=t);return r=_aoUndefined,i}}(),_oGlobalEvents={},_fAddEvent=function(e,t){if(_fIsFunc(t[1])){var n=t[0],i=t[2],o=t[4],a=e.oCustomEvents||(e.oCustomEvents={}),r=!a[n],s=a[n]||(a[n]={});if(r&&(_fIsDom(e)||_fIsAccessibleWin(e)))if("unload"==n)_fThrowException("use 'addPageUnloadEvent(func)' replace add 'unload' event!");else{var c="on"+n,l=e[c];l&&!i&&_fSaveEvent(e,n,s,!0,_fGetInWin(e),l),_fSaveEvent(e,n,s,i,t[3],t[1],o),e[c]=_fFireEventForDom}else _fSaveEvent(e,n,s,i,t[3],t[1],o)}},_fAddEvents=function(e,t){var n=t[0],i=t[1],o=t[2],a=t[3];for(var r in n)_fAddEvent(e,[r,n[r],i,o,a])},_fDelEvent=function(e,t){var n=t[1],i=_fIsFunc(n)&&n._nHandlerGuid;i&&_fDelEventByGuid(e,t[0],i)},_fDelEvents=function(e,t){var n=t[0];for(var i in n)_fDelEvent(e,[i,n[i]])},_fDelEventByGuid=function(e,t,n){try{var i=parseInt(n);if(_fIsNum(i)){var o=e.oCustomEvents&&e.oCustomEvents[t],a=o[i];delete o[i],delete a["_event_"+i]}}catch(r){}},_fFireCustomEvent=function(e,t,n,i){var o=e.oCustomEvents&&e.oCustomEvents[t],a=n||[],r=!0;for(var s in o){var c;try{c=o[s][0]["_event_"+s]}catch(l){}c?!1===c.apply(i||o[s][1]||e,a)&&(r=!1):_fDelEventByGuid(e,t,s)}return r},_oDomEventMap={Mouse:{_sType:"click|mousedown|mouseup|mouseomove",_fArgs:function(e,t,n){return[e,!0,!0,t,0,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,n.relativeTarget]}},Key:{_sType:"keydown|keypress|keyup",_fArgs:function(e,t,n){return[e,t,!0,!0,t,!!n.ctrlKey,!!n.altKey,!!n.shiftKey,!!n.metaKey,n.keyCode,n.charCode||n.keyCode]}}},_oDomEvents=function(){var e,t={};for(var n in _oDomEventMap)for(var i=(e=_oDomEventMap[n]._sType.split("|")).length-1;-1<i;i--)t[e[i]]=n;return t}(),_fFireDomEvent=function(e,t,n){if(_fIsDom(e)&&_oDomEvents[t]){var i=_oDomEvents[t];if(e.fireEvent)"click"===t&&"INPUT"===e.tagName&&"submit"===e.type?e.click():e.fireEvent("on"+t,_fExtend(_fGetInDoc(e).createEventObject(),{cancelBubble:!1,returnValue:!0},n,{type:t}));else{var o=_fGetInDoc(e).createEvent(i+"Events");o["init"+i+"Event"].apply(o,_oDomEventMap[i]._fArgs(t,_fGetInWin(e),n||{})),e.dispatchEvent(o)}return!0}return!1},_fFireEvent=function(e,t){var n=t[0];return!!_fFireDomEvent(e,n,t[1])||_fFireCustomEvent(e,n,t[1],t[4])},_nFireEventTime=0,_oFireEventWin=_aoUndefined,_fFireEventForDom=function(e){var t=e||_fGetInWin(this).event;return!t.currentTarget&&(t.currentTarget=this),_fFireCustomEvent(this,t.type,[t])},_fEventOptCreate=function(s,c,l){return function(){var e=this,t=e._moWin,n=arguments,i=n[0],o=n[1],a=n[2],r=n[3];return _fIsQMWLObj(i)?n.callee.apply(i,_fToArr(n).slice(1)):_fIsFunc(o)||_fIsStr(i)?e.each(s,{vParam:[i,o,l,t,(a||{}).oContext]}):_fIsNull(o)||_fIsObj(o)&&o.oContext?e.each(c,{vParam:[i,l,t,(o||{}).oContext]}):(_fIsObj(i)||_fThrowException("can't add/del/fire event for '"+i+"'"),_fIsStr(o)?e.each([i],s,{vParam:[o,a,l,t,(r||{}).oContext]}):e.each([i],c,{vParam:[o,l,t,(a||{}).oContext]}))}},_nEventGuid=0,_fGetGlobalEventObj=function(e){var t=e||"_gLoBAl_eVEnT_";return _oGlobalEvents[t]||(_oGlobalEvents[t]={name:t})},_fSaveEvent=function(e,t,n,i,o,a,r){var s=a._nHandlerGuid||(a._nHandlerGuid=++_nEventGuid);if(i){var c="_LinkEvent_"+t;_fDelEventByGuid(e,t,e[c]),e[c]=s}n[s]=[o,r],o["_event_"+s]=_fSafe(a,"event:"+t,!0)},Ua,ed,fd,Mg,Ng;_fQMWL.extend=(ed=function(t,n,i){return _fQMWL.CFG_DBG_TYPE>_fQMWL.DBG_DEV_TYPE?function(){var e=arguments;typeof e[0]!=i?_fThrowException('error : QMWL.extend("'+n+'", _avParam); _avParam must '+i+"! err param: "+e[0]):t.apply(_aoWin,e)}:t},fd={version:ed(function(e){var t=_fQMWL.version?[_fQMWL.version(),e].join("; "):e;_fQMWL.version=function(){return t}},"version","string"),method:ed(function(e,t){var n=_fQMWL.prototype;if(!1===t)for(var i in e)n[i]=e[i];else for(var i in e)n[i]=_fSafeByConf(e[i],i,!0)},"method","object"),instance:ed(function(t){var n=_fQMWL.instance_;_fQMWL.instance_=function(e){_fCall(n,[e]),_fCall(t,[e])},_aoWin.QMWin&&_fCall(t,[_aoWin])},"instance","function")},function(){var e=_fToArr(arguments);return _fCall(fd[e.shift()],e),_fQMWL}),_fQMWL.extend("version",_sVer),_fQMWL.extend("method",{cfg_:function(){return _oConfig},ctor_:function(){return _fQMWL},fnCreater_:_fExCreater}),_fQMWL.extend("method",{error:_fThrowException,debug:_fDebug,log:function(e,t){return _fDebug.call(this,this[e||"data"].apply(this,t),e)},safe:_fSafe,safeByConf:_fSafeByConf},!1),_fQMWL.extend("method",function(){var n=/\[([\w\-_]+)(=[\'\"]?([\w\-_~@\.]+)[\'\"]?)?\]/,o=/\[[\w\-_]+(=[\'\"]?[\w\-_~@\.]+[\'\"]?)?\]/g,r=/^([#\$<:])([\w\-_]+)>?$/,a=/.*?\.([\w\-_]+)/,v=/(?:[\w\-~@\.\\.#\[\]=\'\"]+)+|\*|>/gi,y=/#([\w\-_]+)/,b=/^([\w\*\-_]+)/,x=[_aoUndefined,_aoUndefined],s={"#":function(e,t,n){var i=_fGetById(t,n);return new _fQMWL(e,i,i?"non-json":"none")},$:function(e,t,n){if("top"===n)return _fInstance(_oTopWin);if("this"===n)return _fInstance(e);var i=_fGetById(t,n),o=i&&(i.contentWindow||e.frames[n]);return _fIsAccessibleWin(o)?_fInstance(o):_aoUndefined},"<":function(e,t,n){var i="fragment"===n?t.createDocumentFragment():t.createElement(n);return new _fQMWL(e,i,i?"non-json":"none")},":":function(e,t,n){return"doc"===n?new _fQMWL(e,t,"non-json"):e.QMWin}},c={array:function(e){return e.length},"non-json":function(){return 1},none:function(){return 0},json:function(){return-1}};function $(e,t,n,i){for(var o,a,r=!t||t.test(e.className),s=0;r&&s<i;)o=e.getAttribute((a=n[s++])[1]),r=a[2]?o===a[3]:!!o;return r}function C(e){var t=e.match(o);if(t)for(i=t.length-1;0<=i;i--)t[i]=t[i].match(n);return t}function w(e){var t=(e.replace(/\[[^\[\]]*\]/,"[]").match(a)||x)[1];return t&&RegExp("(^|\\s)"+t+"(\\s|$)")}function E(e,t,n){var i=e.pop();if(">"===i)return E(e,t,!0);var o,a,r,s=(i.match(y)||x)[1],c=w(i),l=(i.match(b)||x)[1],u=C(i),f=u?u.length:0,m=[],d=-1,p=-1;for(l&&(l="*"==l?"":l.toUpperCase());o=t[++p];){a=o.parentNode;do{if(r=(!s||a.id===s)&&(!l||a.nodeName==l)&&$(a,c,u,f),n||r)break}while((a=a.parentNode)&&a.getAttribute);r&&(m[++d]=o)}return e[0]&&m[0]?E(e,m):m}function k(e,t){if(t.querySelectorAll&&_nDebugType<_nDevType)return _fToArr(t.querySelectorAll(e));if(-1<e.indexOf(",")){for(var n=e.split(/,/g),i=[],o=0,a=n.length;o<a;++o)i=i.concat(k(n[o],t));return _fUnique(i)}var r,s=e.match(v),c=s.pop(),l=(c.match(y)||x)[1],u=w(c),f=C(c),m=f?f.length:0,d=(c.match(b)||x)[1];if(l)if(t.getElementById){var p=t.getElementById(l);if(!p||d&&p.nodeName!=d.toUpperCase()||!$(p,u,f,m))return[];r=[p]}else{var _=t.getElementsByTagName(d||"*"),h=(o=-1,-1);for(r=[];g=_[++o];)g.id==l&&$(g,u,f,m)&&(r[++h]=g)}else{_=t.getElementsByTagName(d||"*");if(u||m){var g;o=-1,h=-1;if(r=[],m)for(;g=_[++o];)$(g,u,f,m)&&(r[++h]=g);else for(;g=_[++o];)u.test(g.className)&&(r[++h]=g)}else r=_fToArr(_)}return s[0]&&r[0]?E(s,r):r}function l(e,t){if(_fIsDom(e)){var n=t._oHandler;n._oRet=n._oRet.concat(k(t._sSelector,e))}}function e(e,t){var n=this._moWin;if(!e)return new _fQMWL(n,e,"none");if(_fIsStr(e)){if(_fIsQMWLObj(t))return t.find(e);var i,o=this._moWin.document;return"body"==e?new _fQMWL(n,o.body,"non-json"):(i=r.exec(e))?s[i[1]](n,o,i[2]):new _fQMWL(this._moWin,k(e,t||o),"array")}if(_fIsQMWLObj(e))return e;if(_fIsDom(e)){if(n==_fGetInWin(e))return new _fQMWL(n,e,"non-json");var a=_fGetInWin(e);return _fIsAccessibleWin(a)?_fInstance(a).$(e):_aoUndefined}return _fIsAccessibleWin(e)?_fInstance(e):c[t]?new _fQMWL(n,e,t):_fCanLoop(e)?new _fQMWL(n,e,"array"):new _fQMWL(n,e,"non-json")}function u(e,t){if(_fIsDom(e)){var n=t._oCollection;if(n.push(e=e.parentNode),t._bIsAll)for(;(e=e.parentNode)&&9!==e.nodeType;)n.push(e)}}function t(e,t){var n=[];return this.each(u,{vParam:{_oCollection:n,_bIsAll:t}}),new _fQMWL(this._moWin,function d(e,t){var n,i=e.match(v),o=i.pop(),a=(o.match(y)||x)[1],r=w(o),s=C(o),c=s?s.length:0,l=(o.match(b)||x)[1],u=[],f=-1,m=-1;for(l&&(l="*"==l?"":l.toUpperCase());n=t[++f];)(!a||n.id===a)&&(!l||n.nodeName==l)&&$(n,r,s,c)&&(u[++m]=n);return i[0]&&u[0]?E(i,u):u}(e,1<this.size()?_fUnique(n):n),"array")}return{$:e,Q:e,parent:function(e){return t.call(this,e,!1)},parents:function(e){return t.call(this,e,!0)},call:_fCall,callEx:_fExCreater(_fCall),each:function(e,t,n){var i,o=this;return _fIsFunc(e)?(i=t||{},_fEach.call(i.oContext||o,o._moOptData,o._msOptMode,o.size(),e,i.vParam)):_fIsQMWLObj(e)?(i=n||{},_fEach.call(i.oContext||o,e._moOptData,e._msOptMode,e.size(),t,i.vParam)):_fIsFunc(t)&&!_fIsNull(e)&&(i=n||{},_fCanLoop(e)?_fEach.call(i.oContext||o,e,"array",e.length,t,i.vParam):_fEach.call(i.oContext||o,e,"json",-1,t,i.vParam)),o},find:function(e){var t={_oRet:[]};return this.each(l,{vParam:{_sSelector:e,_oHandler:t}}),new _fQMWL(this._moWin,1<this.size()?_fUnique(t._oRet):t._oRet,"array")},data:function(e){var t=this._moOptData,n=this._msOptMode;return _fIsNull(e)||"non-json"==n||_fIsNull(t)?t:t[e]},first:function(){var e=this,t=e._moOptData;e._msOptMode;return e._moOptData=_fIsArr(t)?t[0]:t,e._msOptMode=_fIsNull(e._moOptData)?"none":"non-json",e},last:function(){var e=this,t=e._moOptData;e._msOptMode;return e._moOptData=_fIsArr(t)?t[t.length-1]:t,e._msOptMode=_fIsNull(e._moOptData)?"none":"non-json",e},is:_fIsQMWLObj,isWinEqual:function(e){return(_fIsQMWLObj(e)?e._moWin:e)==this._moWin},size:function(){return c[this._msOptMode](this._moOptData)}}}()),_fQMWL.extend("method",function(){var e,t,n=document,i=n.documentElement,o={},a=n.createElement("script"),r=n.createElement("div"),s="script"+_fNow();if(r.style.display="none",r.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>",e=r.getElementsByTagName("*"),t=r.getElementsByTagName("a")[0],e&&e.length&&t){o.opacity=/^0.55$/.test(t.style.opacity),o.cssFloat=!!t.style.cssFloat,a.type="text/javascript";try{a.appendChild(n.createTextNode("window."+s+"=1;"))}catch(c){}i.insertBefore(a,i.firstChild),_aoWin[s]&&(o.scriptEval=!0,delete _aoWin[s]),i.removeChild(a)}return _fBindReady(_aoWin,function(){var e=document.createElement("div");e.style.width=e.style.paddingLeft="1px",document.body.appendChild(e),o.boxModel=2===e.offsetWidth,document.body.removeChild(e).style.display="none",e=null}),_fQMWL.support=function(e){return e?!!o[e]:o},{support:_fQMWL.support}}()),_fQMWL.extend("method",function(){var n,t,e=navigator.userAgent,i=e.toLowerCase(),o={appName:navigator.appName,userAgent:e};function a(){if(!n){var e,t=s();t.ie?e=/(maxthon)[\x20]([\w.]+)/.exec(i)||/(tencenttraveler)[\x20]([\w.]+)/.exec(i)||/(the[\x20]?world)[\x20]?([\w.]+)?/.exec(i)||/(avant) Browser[\x20]([\w.]+)/.exec(i)||/(360se)[\x20]([\w.]+)/.exec(i)||/(se)[\x20]([\w.]+)/.exec(i):t.webkit?e=/(chrome)\/([\w.]+)/.exec(i)||/(version)\/([\w.]+)/.exec(i):t.gecko&&(e=/(firefox)\/([\w.]+)/.exec(i)),e?((n={})[o.app={tencenttraveler:"tt",se:"sogou",version:"safari"}[e[1]]||e[1]]=o.appVersion=e[2]||"0",n[o.app+o.appVersion]=n[o.app+o.appVersion.split(".")[0]]=o.appVersion):(n=t,o.app=o.engine,o.appVersion=o.engineVersion)}return n}function r(){if(!e){var e={};/windows/.test(i)||/win32/.test(i)?/nt\x206.0/.test(i)||/windows vista/.test(i)?e[o.os="vista"]=e.win="6.0":/nt\x206.1/.test(i)?e[o.os="win7"]=e.win="6.1":e[o.os="win"]="0":/ipad/.test(i)?e[o.os="ipad"]="0":/mac\x20os\x20x/.test(i)?(e["mac os x"]=e.mac=(/mac\x20os\x20x\x20([\w.]+)/.exec(i)||[])[1]||"0",o.os="mac os x "+e.mac):/macintosh/.test(i)?e[o.os="mac"]="0":/linux/.test(i)&&(e[o.os="linux"]="0")}return e}function s(){if(!t){var e=/(webkit)[\x20\/]([\w.]+)/.exec(i)||/(opera)(?:.*version)?[\x20\/]([\w.]+)/.exec(i)||/ms(ie)\x20([\w.]+)/.exec(i)||!/compatible/.test(i)&&/(mozilla)(?:.*?\x20rv:([\w.]+))?/.exec(i)||[];(t={})[o.engine={mozilla:"gecko"}[e[1]]||e[1]||"unknow"]=o.engineVersion=e[2]||"0",t[o.engine+o.engineVersion]=t[o.engine+o.engineVersion.split(".")[0]]=o.engineVersion}return t}return{browser:function(e){var t=function n(){return a(),r(),o}();return e?t[e]:t},isBrowser:function(e){var t=!1,n=s(),i=a();return this.each(e.split("|"),function(e){if(n[e]||i[e])return!(t=!0)}),t},browserVersion:function(e){return a()[e]||s()[e]},isOS:function(e){var t=!1,n=r();return this.each(e.split("|"),function(e){if(n[e])return!(t=!0)}),t}}}()),_fQMWL.extend("method",(Mg=/^(?:.*?\?)?(\S*?)(?:#.*)?$/,Ng=/&([^&]+?)=([^&]*?)(?=&)/g,{locSearch:function(e){var a={};return(e||this._moWin.location.href).replace(Mg,"&$1&").replace(Ng,function(e,t,n){var i=a[t=decodeURIComponent(t)],o=decodeURIComponent(n);return i==_aoUndefined?a[t]=o:_fIsStr(i)?a[t]=[i,o]:i.push(o),""}),a},loc:function(e,t){var n=this._moWin.location;return _fIsNull(t)?function i(e,t){var n=e.href;return"hash"===t&&0<n.indexOf("#")&&"#"+n.split("#")[1]||e[t]}(n,e):(n[e]=t,this)}})),_fQMWL.extend("method",{append:function(e){return this.insert(e,"beforeEnd")},appendTo:function(e){return this.$(e).append(this)&&this},prepend:function(e){return this.insert(e,"afterBegin")},prependTo:function(e){return this.$(e).prepend(this)&&this},fragment:function(e){for(var t=this.$("<div>").html(e),n=this.$("<fragment>"),i=t.data(0).childNodes,o=[],a=0,r=i.length;a<r;a++)o[a]=i[a].cloneNode(!0);return e?new _fQMWL(_fGetInWin(n.data(0)),o,"array"):this},replaceWith:function(e){if(_fIsStr(e)){var r,s=[];try{r=this.$("<div>").html(e).data(0).childNodes}catch(t){debug(t.message)}return r&&r.length&&this.each(function(e){if(1===e.nodeType){var t=e.parentNode,n=e.nextSibling,i=n?function(e){t.insertBefore(e,n)}:function(e){t.appendChild(e)};t.removeChild(e);for(var o=0;o<r.length;o++){var a=r[o].cloneNode(!0);i(a),s.push(a)}}}),new _fQMWL(this._moWin,s,"array")}return this},attr:function(t,n){var i;return _fIsNull(n)?(this.each(function(e){if(_fIsDom(e))return i=e[t],_fIsNull(i)&&(i=e.getAttribute(t)),!1}),i):this.each(function(e){"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName||"value"!=t?_fIsNum(n)||_fIsStr(n)?e.setAttribute(t,n):e[t]=n:e.value=n})},focus:function(){var e=this.data(0);return e&&e.focus&&e.focus(),this},blur:function(){var e=this.data(0);return e&&e.blur&&e.blur(),this},rmAttr:function(t){return this.each(function(e){e.removeAttribute&&e.removeAttribute(t),e[t]&&(e[t]=_aoUndefined)})},contain:function(e){var t=this.data(0),n=_fFormatParam(e);if(_fIsDom(t)&&_fIsDom(n)){if(t.contains)return t.contains(n);if(t.compareDocumentPosition){var i=t.compareDocumentPosition(n);return 20==i||0==i}}return!1},html:function(t){var n;return _fIsNull(t)?(this.each(function(e){if(1===e.nodeType)return n=e.innerHTML,!1}),n||""):this.each(function(e){1===e.nodeType&&(e.innerHTML=t)})},insert:function(e,t){var n=_fFormatParam(e),i=_fIsDom(n)?_fInsertDom:_fInsertHtml,o=i==_fInsertHtml;return this.each(function(e){if(_fIsDom(e))return i(e,t,n),o})},insertTo:function(e,t){return this.$(e).insert(this,t)&&this},insertIframe:function(c,l){return this.each(function(e){if(_fIsDom(e)){var n=this,t="_ifRAmeoNlQAd_",i=c||{},o=i.id=i.id||_fUnikey(),a=_fGetInWin(e),r=a[t],s=[];return!_fIsFunc(r)&&(r=a[t]=function(e,t){(t.getAttribute("_ok_")||arguments.callee[e].src)&&n.call(t,arguments.callee[e].onload)}),r[o]={onload:i.onload,src:i.src},i.onload=t+"('"+o+"', this);",i.src=i.src||["javascript:document.open();document.writeln('<head><script>",location.host!=document.domain?"document.domain=\\x22"+document.domain+"\\x22;":"","frameElement.setAttribute(\\x22_ok_\\x22,true);<\/script></head>');document.close();"].join(""),n.each(i,function(e,t){s.push(t,'="',e,'" ')}),_fInsertHtml(e,l,"<iframe "+s.join("")+"></iframe>"),!1}})},inWin:function(e){return e?_fGetInWin(e):this._moWin},ready:function(e,t){return this.isAccess()&&_fBindReady(this._moWin,e,t),this},remove:function(){return this.each(_fSafe(function(e){try{e.parentNode.removeChild(e)}catch(t){}}))},rewrite:_fSafe(function(e){var t=this._moWin.document;return t.open(),t.write(e),t.close(),this})}),_fQMWL._oOffset={_fInit:function(){var e,t,n,i=document.body,o=document.createElement("div"),a=parseFloat($.$(i).css("marginTop"))||0;$.extend(o.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),o.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",i.insertBefore(o,i.firstChild),t=(e=o.firstChild).firstChild,n=e.nextSibling.firstChild.firstChild,_fQMWL._oOffset.doesNotAddBorder=5!==t.offsetTop,_fQMWL._oOffset.doesAddBorderForTableAndCells=5===n.offsetTop,t.style.position="fixed",t.style.top="20px",_fQMWL._oOffset._bSupportsFixedPosition=20===t.offsetTop||15===t.offsetTop,t.style.position=t.style.top="",e.style.overflow="hidden",e.style.position="relative",_fQMWL._oOffset._bSubtractsBorderForOverflowNotVisible=-5===t.offsetTop,_fQMWL._oOffset._bDoesNotIncludeMarginInBodyOffset=i.offsetTop!==a,i.removeChild(o),i=o=e=t=n=null,_fQMWL._oOffset._fInit=_fNoop}},_fQMWL.extend("method",function(){var e={};function i(i,e,t,n){var o,a=this,r=a.data(0),s=[e?"":"padding",-1,t?"":"border",-1,n?"margin":"",1];function c(){var e;e="width"==i.toLowerCase()?(o=r.offsetWidth,["Left","Right"]):(o=r.offsetHeight,["Top","Bottom"]);for(var t=s.length-2;0<=t;t-=2)if(s[t])for(var n=e.length-1;0<=n;n--)o+=s[t+1]*(parseFloat(a.css(s[t]+e[n]))||0);return o}if(0<r.offsetWidth)c();else{!function u(e,t,n,i){for(var o,a,r=[],s=e;s;){if(o=null,"none"==i.$(s).css("display"))for(var c in o={},a=s.style,t)o[c]=a[c],a[c]=t[c];r.push(s,o),s=s.parentNode}_fCall(n);for(var l=r.length-1;0<l;l-=2)if(r[l])for(var c in a=r[l-1].style,t)a[c]=r[l][c]}(r,{position:"absolute",visibility:"hidden",display:"block"},c,a)}return o}function t(n){var i="scroll"+n;e[i]=function(){var e=this.data(0),t=this.inWin(e);return e?t?"pageXOffset"in t?t["Top"==n?"pageYOffset":"pageXOffset"]:_fQMWL.support("boxModel")&&t.document.documentElement[i]||t.document.body[i]:e[i]:null}}e.offset="getBoundingClientRect"in document.documentElement?function c(){var e=this.data(0);if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return null;var t=e.getBoundingClientRect(),n=this.inWin(e),i=e.ownerDocument,o=i.body,a=i.documentElement,r=a.clientTop||o.clientTop||0,s=a.clientLeft||o.clientLeft||0;return{top:t.top+(n.pageYOffset||_fQMWL.support("boxModel")&&a.scrollTop||o.scrollTop)-r,left:t.left+(n.pageXOffset||_fQMWL.support("boxModel")&&a.scrollLeft||o.scrollLeft)-s}}:function u(){var e=this.data(0);if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return null;_fQMWL._oOffset._fInit();for(var t,n=e.offsetParent,i=e.ownerDocument,o=i.documentElement,a=i.body,r=i.defaultView,s=r?r.getComputedStyle(e,null):e.currentStyle,c=e.offsetTop,l=e.offsetLeft;(e=e.parentNode)&&e!==a&&e!==o&&(!_fQMWL._oOffset._bSupportsFixedPosition||"fixed"!==s.position);)t=r?r.getComputedStyle(e,null):e.currentStyle,c-=e.scrollTop,l-=e.scrollLeft,e===n&&(c+=e.offsetTop,l+=e.offsetLeft,!_fQMWL._oOffset.doesNotAddBorder||_fQMWL._oOffset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(e.nodeName)||(c+=parseFloat(t.borderTopWidth)||0,l+=parseFloat(t.borderLeftWidth)||0),offsetParent,offsetParent=e.offsetParent),_fQMWL._oOffset._bSubtractsBorderForOverflowNotVisible&&"visible"!==t.overflow&&(c+=parseFloat(t.borderTopWidth)||0,l+=parseFloat(t.borderLeftWidth)||0),s=t;return"relative"!==s.position&&"static"!==s.position||(c+=a.offsetTop,l+=a.offsetLeft),_fQMWL._oOffset._bSupportsFixedPosition&&"fixed"===s.position&&(c+=Math.max(o.scrollTop,a.scrollTop),l+=Math.max(o.scrollLeft,a.scrollLeft)),{top:c,left:l}};for(var n=["Left","Top"],o=0;o<n.length;o++)t(n[o]);function a(t){var n=t.toLowerCase();e["inner"+t]=function(){return this.size()?_fCall(this,i,[t,!0]):null},e["outer"+t]=function(e){return this.size()?_fCall(this,i,[t,!0,!0,!0]):null},e[n]=function(){var e=this.data(0);return e&&"object"==typeof e&&"setInterval"in e?"CSS1Compat"===e.document.compatMode&&e.document.documentElement["client"+t]||e.document.body["client"+t]:9===e.nodeType?Math.max(e.documentElement["client"+t],e.body["scroll"+t],e.documentElement["scroll"+t],e.body["offset"+t],e.documentElement["offset"+t]):_fCall(this,i,[n])}}n=["Height","Width"];for(o=0;o<n.length;o++)a(n[o]);return e}()),_fQMWL.extend("method",function(){var r=/alpha\([^)]*\)/,s=/z-?index|font-?weight|opacity|zoom|line-?height/i,t=/-([a-z])/gi,c=/opacity=([^)]*)/,l=/([A-Z])/g,n=function(e,t){return t.toUpperCase()},u=_fQMWL.camelName=function(e){return e.replace(t,n)};function i(e){return!(!e||3===e.nodeType||8===e.nodeType)}function f(e,t){e.style;var n,i=_fGetInWin(e),o=e.currentStyle;if("opacity"===t&&!_fQMWL.support("opacity")&&o)return""===(n=c.test(o.filter||"")?Number(RegExp.$1)/100+"":"")?"1":n;if(o){var a=u(t);n=o[t]||o[a]}else if(9!=e.nodeType){var r=i.getComputedStyle(e,null);t=t.replace(l,"-$1").toLowerCase(),n=r.getPropertyValue(t),"opacity"===t&&""===n&&(n="1")}return n}function o(e,t,n){if(!_fIsNull(n)){var i=e.style||e;if(!_fQMWL.support("opacity")&&"opacity"===t){i.zoom=1;var o=parseInt(n,10)+""=="NaN"?"":"alpha(opacity="+100*n+")",a=i.filter||f(e,"filter")||"";i.filter=r.test(a)?a.replace(r,o):o}t=u(t),_fIsNum(n)&&!s.test(t)&&(n+="px"),e.style[t]=n}}function a(e,t){i(e)&&o(e,t[0],t[1])}function m(e,t){if(i(e))for(var n in t)t.hasOwnProperty(n)&&o(e,n,t[n])}return{css:function(e,t){if(_fIsNull(t)){if(_fIsStr(e)){var n=this.data(0);return _fIsDom(n)?f(n,e):_aoUndefined}this.each(m,{vParam:e})}else this.each(a,{vParam:arguments});return this},getComputedStyle:function(e){var t=this.data(0);if(t)return this._moWin.getComputedStyle?this._moWin.getComputedStyle(t)[e]:t.currentStyle?t.currentStyle[e]:this.css(e)},isShow:function(){return"none"!==this.css("display")},isRealyShow:function(){return 0!==this.data(0).clientHeight},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},toggle:function(){return this["none"==this.css("display")?"show":"hide"]()},addClass:function(t){return _fIsNull(t)?this:this.each(function(e){(" "+e.className+" ").indexOf(" "+t+" ")<0&&(e.className+=e.className?" "+t:t)})},rmClass:function(n){return this.each(function(e){if(_fIsNull(n))e.className="";else{var t=" "+e.className+" ";t=t.replace(" "+n+" "," "),e.className=_fTrim(t)}})},toggleClass:function(e){this.hasClass(e)?this.rmClass(e):this.addClass(e)},exchangeClass:function(e,t){this.hasClass(e)?this.rmClass(e).addClass(t):this.addClass(e).rmClass(t)},replaceClass:function(e,t){return this.rmClass(e).addClass(t)},setClass:function(t){return this.each(function(e){e.className=_fTrim(t||"")})},hasClass:function(e){return!!this.data(0)&&-1<(" "+this.data(0).className+" ").indexOf(" "+e+" ")},scroll:function(e,t,n){if(isNaN(e)||isNaN(t)&&!this.data(0))return!1;var i=this.data(0),o=i.scrollTop,a=e-o,r=Date.now();!function s(){var e=Math.min(1,(Date.now()-r)/t);i.scrollTop=a*e+o,e<1?setTimeout(s,3):n&&"function"==typeof n&&n()}()}}}()),_fQMWL.extend("method",{addPageUnloadEvent:function(e){var n=this._moWin;return n.ununloadsets?n.ununloadsets.push(e):(n.ununloadsets=[e],n.onunload&&n.ununloadsets.push(n.onunload),n.onunload=function(){for(var e=n.ununloadsets,t=e.length-1;-1<t;t--)_fCall(n,e[t])}),this},addEvent:_fEventOptCreate(_fAddEvent,_fAddEvents,!1),delEvent:_fEventOptCreate(_fDelEvent,_fDelEvents),event$:function(e){return this.$(_fGetGlobalEventObj(e))},fireEvent:_fEventOptCreate(_fFireEvent),on:_fEventOptCreate(_fAddEvent,_fAddEvents,!0),stopPropagation:function(e){return e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0),this},preventDefault:function(e){return e&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this},target:function(e){return e&&(e.srcElement||e.target)}}),_fQMWL.extend("method",function(){var C=/(\?|&)r=.*?(&|$)/,n=/\?/,w=0,E={bAsync:!0,bCache:!0,sContentType:"application/x-www-form-urlencoded",bGlobal:!0,nTimeout:5e3,sType:"GET",ongetxhr:!_aoWin.XMLHttpRequest||"file:"===_aoWin.location.protocol&&_aoWin.ActiveXObject?_fSafe(function(e){return new(e||_aoWin).ActiveXObject("Microsoft.XMLHTTP")}):function(e){return new(e||_aoWin).XMLHttpRequest}},k={xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},i="|onbeforesend|oncomplete|ondatafilter|onerror|onsuccess|";function I(e,t,n){var i=_fIsNum(n),o=i?e.name:n,a=i?e.value:e;!_fIsNull(o)&&t.push(_fEncodeURIComponent(o)+"="+_fEncodeURIComponent(_fIsFunc(a)?_fSafe(a,"ajax build data : "+o+" func")():a))}function T(e,t){return e+(n.test(e)?"&":"?")+t}function s(e){var t=!1;for(var n in e)if(_fIsFunc(e[n])&&-1!=i.indexOf("|"+n+"|")){t=!0;break}return t}function o(e,t,n){var i=n||"onsuccess",o={sUrl:e[0],sType:t},a=e[1],r=e[2];return _fIsFunc(a)?(o[i]=a,o.sDataType=r):s(a)?_fExtend(o,a,{sDataType:r}):s(r)?_fExtend(o,r,{vData:a,sDataType:e[3]}):(o.vData=a,o[i]=r,o.sDataType=e[3]),o}return{ajax:function(e){var o,a,s,c,t,n=this,l=_fExtend({},E,e),u=l.oContext||l,i=l.sType.toUpperCase(),r=l.sUrl,f=function x(e,t){var n=[];return _fIsStr(e)?n.push(e):(_fIsArr(e)||_fIsObj(e))&&this.each(e,I,{vParam:n}),n.join("&")}.call(n,l.vData,l.sContentType),m=!1;if(!r)return n;if(!1===l.bCache&&"GET"===i){var d="r="+_fNow(),p=r.replace(C,"$1"+d+"$2");r=r===p?T(p,d):p}if(f&&"GET"===i&&(r=T(r,f)),!(c=_fCall(l.ongetxhr,[n._moWin])))return n;if(-1!=r.indexOf("bizmail_account")&&-1!=r.indexOf("import_partyuser")||-1!=r.indexOf("/cgi-bin/bizmail_domain"));else if("function"==typeof QMDistributeDomain){var _=QMDistributeDomain(r,c);c=_.oXhr,r=_.sUrl}l.bGlobal&&!w++&&g("start"),c.open(i,r,l.bAsync);try{(f||e&&e.sContentType)&&c.setRequestHeader("Content-Type",l.sContentType),c.setRequestHeader("Accept",[l.sDataType&&k[l.sDataType],k._default].join(", "))}catch($){}if(!1===_fCall(u,l.onbeforesend,[c]))return l.bGlobal&&!--w&&g("stop"),c.abort(),n;l.bGlobal&&g("send"),c.onreadystatechange=b;try{var h=c.abort;c.abort=function(){c&&h.call(c),b("abort")}}catch($){}l.bAsync&&0<l.nTimeout&&(t=setTimeout(function(){c&&!m&&b("timeout")},l.nTimeout));try{c.send("GET"!=i?f:_aoUndefined)}catch(s){o="senderr",y(),v()}function g(e,t){n.event$("ajax").fireEvent(e,t,{oContext:u})}function v(){t&&(clearTimeout(t),1)&&(t=0),_fCall(u,l.oncomplete,[c,o]),l.bGlobal&&g("complete",[c,o]),l.bGlobal&&!--w&&g("stop")}function y(){_fCall(u,l.onerror,[c,o,s]),l.bGlobal&&g("error",[c,o,s])}function b(e){if(c&&0!==c.readyState&&"abort"!==e){if(!m&&c&&(4===c.readyState||"timeout"===e)){if(m=!0,c.onreadystatechange=_fNoop,"success"===(o="timeout"===e?"timeout":function n(e){try{return!e.status&&"files:"===location.protocol||200<=e.status&&e.status<300||304===e.status||1223===e.status||0===e.status}catch(t){}return!1}(c)?"success":"error"))try{a=function r(e,t,n){var i=e.getResponseHeader("content-type")||"",o="xml"===t||!t&&0<=i.indexOf("xml"),a=o?e.responseXML:e.responseText;return o&&"parsererror"===a.documentElement.nodeName&&_fThrowException("parsererror"),n&&_fIsFunc(n.ondatafilter)&&(a=n.ondatafilter(a,t)),_fIsStr(a)&&("json"===t||!t&&0<=i.indexOf("json")||"script"===t||!t&&i.indexOf("javascript")),a}(c,l.sDataType,l)}catch(t){o=t.type||"parsererror",s=t}("success"===o?function i(){_fCall(u,l.onsuccess,[a,o,c]),l.bGlobal&&g("success",[a,o,c])}:y)(),v(),"timeout"===e&&c.abort(),l.bAsync&&(c=_aoUndefined)}}else m=!0,c&&(c.onreadystatechange=_fNoop),!m&&v()}return!l.bAsync&&b(),n},ajaxSetting:function(e){var t=this;return e?_fExtend(E,e):t=E,t},get:function(){return this.ajax(o(arguments,"GET"))},load:function(){var t;if(this.each(function(e){if(_fIsDom(e))return t=e,!1}),!t)return this;var e=arguments[1],n=o(arguments,"GET","oncomplete"),i=n.onsuccess;return this.ajax(_fExtend(n,{sDataType:"html",onsuccess:function(){e&&!0===e.disableAutoFillDom?_fCall(this,i,[_fFilteScript(arguments[0]),e]):(t.innerHTML=_fFilteScript(arguments[0]),_fCall(this,i,arguments))}}))},loadJS:function(e,n,t){var i=this._moWin,o=this.$("<script>"),a=o.data(0),r=function(e,t){0!=s&&(i.clearTimeout(s),s=0,t?i.setTimeout(function(){_fCall(a,n,"onload",[!!e])},100):_fCall(a,n,"onload",[!!e]),!0===n.bNeedRemove&&o.remove())},s=i.setTimeout(function(){r(!1),o.remove()},_fIsNum(n&&n.nTimeout)?n.nTimeout:1e4);this.each(t,function(e,t){!_fIsNull(e)&&a.setAttribute(t,e)}).$("head").append(_fExtend(a,{type:"text/javascript",src:e,onload:r,onreadystatechange:function(){({loaded:!0,complete:!0})[this.readyState]&&r(!0,!0)}}));return this},post:function(){return this.ajax(o(arguments,"POST"))}}}()),_fQMWL.extend("method",function(){function _QMTemplate(e,t,n){var i=this;i._msTmplStr=e.join?e.join(""):e.toString(),i._msTmplReplaceVar=t||"$",i._replace="exp"==n?i._replaceWithExp:i._replaceWithParse}return _QMTemplate.prototype={toString:function(){return this._msTmplStr},replace:function(e,t,n){return this._replace(e,t,n)},_replaceWithParse:function(e,t,n){var i=this,o=i._msTmplReplaceVar,a=i._moTmplData,r=i._moLinkData,s=!a,c=t?i._getWithNoReplace:i._get;s&&(a=i._moTmplData=i._msTmplStr.split(i._msTmplReplaceVar),r=i._moLinkData=i._moTmplData.concat());for(var l=1,u=a.length;l<u;l+=2)r[l]=c.call(i,s?a[l]=a[l].split("."):a[l],e,n,o);return r.join("")},_replaceWithExp:function(e,t,n){var i,o=this;if(o._mfReplace||o._compile(),"string"==typeof t){var a=o._moSecDatas[t];a&&(i="function"!=typeof a?o._moSecDatas[t]=o._genHandleFunc(a):a)}else i=o._mfReplace;try{return i&&i(e,o._moTmplDatas,o._get,o._msTmplReplaceVar,_fHtmlEncode,n||t)||""}catch(r){return r.message}},_compile:function(){for(var e,t=this,n=0,i=[],o=[],a=[],r=t._moSecDatas=[],s=t._msTmplReplaceVar,c=new RegExp(["","(.*?)",""].join(_fRegFilter(s)),"g"),l="_afG('$1'.split('.'),_oD,_aoD,_aoR)",u=t._moTmplDatas=t._msTmplStr.split(["","@",""].join(s)),f=0,m=u.length;f<m;f++)if(e=u[f],f%2==0)i.push("_oR.push(_aoT[",f,"].replace(_oD,false,_aoD));"),u[f]=new _QMTemplate(e,s);else if("else"==e)i.push("}else{");else if("endsec"==e){if(a.length){var d=a.pop();r[d[0]]=i.slice(d[1])}}else"endfor"==e?o.length&&i.push("try{delete _oD._parent_;delete _oD._idx_;}catch(e){}","}_oD=_oS",o.pop(),";"):"endif"==e?i.push("}"):0==e.indexOf("else if(")?i.push("}",e.replace(c,l),"{"):0==e.indexOf("if(")?i.push(e.replace(c,l),"{"):0==e.indexOf("for(")?(o.push(++n),i.push("var _sI",n,",_oD",n,",_oS",n,"=_oD;",e.replace(c,["_sI",n," in (_oD",n,"=",l,")"].join("")),"{","_oD=_oD",n,"[_sI",n,"];","try{","_oD._parent_=_oS",n,";","_oD._idx_=_sI",n,";","}catch(e){}")):0==e.indexOf("sec ")?a.push([e.split(" ").pop(),i.length]):0==e.indexOf("eval ")?i.push("_oR.push(",e.substr(5).replace(c,l),");"):0==e.indexOf("html(")&&i.push("_oR.push(_afE(",e.substr(5).replace(c,l),");");return t._mfReplace=t._genHandleFunc(i),i},_genHandleFunc:function(_aoCompileDatas){try{return eval(["([function(_aoD,_aoT,_afG,_aoR, _afE, A){var _oR=[],_oD=_aoD;",_aoCompileDatas.join(""),'return _oR.join("");}])'].join(""))[0]}catch(_oErr){return function(){return"compile err!"}}},_getWithNoReplace:function(e,t,n,i){var o=this._get(e,t,n,i);return void 0===o?i+e.join(".")+i:o},_get:function(e,t,n,i){var o,a,r=e.length;if(1<r)try{a=t;for(var s=0;s<r;s++)a="_root_"==(o=e[s])?n:a[o]}catch(c){a=void 0}else a={_var_:i,_this_:t}[o=e[0]]||t[o];return a}},{T:function(e,t){return new _QMTemplate(e,t)},TE:function(e,t){if(_aoWin.QMTmplChecker){var n=new _aoWin.QMTmplChecker(e.join?e:[e],t).getErrors();n.length&&_aoWin.debug&&_aoWin.debug(n.join("\n"),"code")}return new _QMTemplate(e,t,"exp")}}}()),_fQMWL.extend("method",function(){function e(o){return function(e,t,n){var i=this;return _fIsFunc(e)&&i._moWin[o](function(){i.call(n&&n.oContext||i,e,n&&n.oParam)},t)||-1}}return{canLoop:_fCanLoop,setInterval:e("setInterval"),setTimeout:e("setTimeout"),eval:function(e){if(e&&_oExprNotWhite.test(e)){var t=this._moWin.document,n=t.getElementsByTagName("head")[0]||t.documentElement,i=t.createElement("script");i.type="text/javascript",this.support("scriptEval")?i.appendChild(t.createTextNode(e)):i.text=e,n.insertBefore(i,n.firstChild),n.removeChild(i)}return this},getValue:function(e,t){return e&&e[t]?_fIsFunc(e[t])?e[t]():e[t]:null},bindContext:function(e,t){return function(){return t.apply(e,arguments)}},delegate:function(){function i(){}return function(e,t){i.prototype=e;var n=new i;return i.prototype=null,t&&_fExtend(n,t),n}}(),evalVal:function(e){var t,n="_gEVaLvAl_",i=this._moWin;return e&&this.eval("(function(){try{window."+n+"="+e+";}catch(_oError){}})();"),t=i[n],i[n]=_aoUndefined,t},evalCss:function(e,t,n){if(e){var i=n?n.document||n:this._moWin.document,o="cssfrom",a=i.getElementsByTagName("style")[0];if(t&&a)if(-1!=(a.getAttribute(o)||"").indexOf(t))return;if(i.createStyleSheet)(a=a||i.createStyleSheet().owningElement).styleSheet.cssText+=this.res(e);else{if(!a){var r=i.getElementsByTagName("head")[0];(a=i.createElement("style")).type="text/css",r.insertBefore(a,r.firstChild)}a.textContent+=this.res(e)}t&&a.setAttribute(o,[a.getAttribute(o)||"",t].join(","))}},extend:_fExtend,clone:function(e){return _fIsObj(e)?_fIsArr(e)?e.slice():_fExtend({},e):e},extendEx:_fExCreater(_fCall),filteScript:_fFilteScript,noop:_fNoop,isAccess:function(){return _fIsAccessibleWin(this._moWin)},isArr:_fIsArr,isDom:_fIsDom,isFunc:_fIsFunc,isNull:_fIsNull,isNum:_fIsNum,isObj:_fIsObj,isStr:_fIsStr,isAccessWin:_fIsAccessibleWin,now:_fNow,random:_fRandom,regFilter:_fRegFilter,statTime:function(e){var t=_fNow();return"reset"!=e&&_fDebug([e,t-_nStatTime].join(":")),_nStatTime=t,this},toArr:_fToArr,toMap:_fToMap,toNum:_fToNum,toStr:_fToStr,unikey:_fUnikey,unique:_fUnique,trim:_fTrim,htmlEncode:_fHtmlEncode,htmlDecode:function(e){return e&&e.replace?e.replace(/&nbsp;/gi," ").replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&quot;/gi,'"').replace(/&#39;/gi,"'").replace(/&amp;/gi,"&"):e},decodeUnicode:function(e){var t=e||"",n=t.indexOf("\\u");if(-1==n)return e;for(var i=t.split("\\u"),o=0;o<i.length;o++){var a=i[o],r=a.substr(0,4),s=a.substring(4),c=String.fromCharCode("0x"+r);c&&/^[0-9a-f]{4}$/i.test(r)?0!==o?i[o]=c+s:0===n&&(i[o]=c+s):0!=o&&(i[o]="\\u"+a)}return i.join("")},getAsiiStrLen:function(e){return(e||"").replace(/[^\x00-\xFF]/g,"aa").length},subAsiiStr:function(e,t,n,i){for(var o,a=function(e){return e},r=i?this.htmlEncode:a,s=(i?this.htmlDecode:a)(this.trim((e||"").toString())),c=n||"",l=Math.max(t-c.length,1),u=s.length,f=0,m=-1,d=0;d<u;d++)if(f+=35==(o=s.charCodeAt(d))||87==o?1.2:255<o?1.5:1,-1==m&&l<f&&(m=d),t<f)return r(s.substr(0,m))+c;return r(s)},isUrl:function(e){return"url"==(e||"").replace(/(((http|https|ftp):\/\/)|www\.)[-\w.]+(:\d+)?(\/([\w\/_=.%-]*(\?[^\s\u4e00-\u9fa5]+)?)?)?/gi,"url")},wait:function(e,t,n,i){var o=this,a=0,r=n||500,s=(i||5e3)/r;return function(){_fCall(o,e)?_fCall(o,t,[!0]):a++>s?_fCall(o,t,[!1]):setTimeout(arguments.callee,r)}(),o}}}()),_fQMWL.extend("method",{setCookie:function(e,t,n,i,o,a){return e&&(document.cookie=this.T(["$name$=$value$; ",n?"expires=$expires$; ":"","path=$path$; ","domain=$domain$; ",a?"$secure$":""]).replace({name:e,value:encodeURIComponent(t||""),expires:n&&n.toGMTString(),path:i||"/",domain:o||function r(){return document.domain}(),secure:a?"secure":""})),this},getCookie:function(e){return new RegExp(["(?:; )?",_fRegFilter(e),"=([^;]*);?"].join("")).test(document.cookie)&&decodeURIComponent(RegExp.$1)},delCookie:function(e,t,n){return this.setCookie(e,"",new Date(0),t,n)}}),_fQMWL.extend("method",function(){var u={27:"esc",9:"tab",32:"space",10:"enter",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",107:"=",109:"-",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",188:"<",190:">",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},f={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};function n(e){return(e||"").toLowerCase().split("+").sort().join("").replace(/\s/gi,"")}return{hotKey:function(e){var t=e.keyCode,n=u[t],i=!n&&function l(e){return 49<=e&&e<=90}(t)&&String.fromCharCode(t).toLowerCase(),o=e.ctrlKey,a=e.shiftKey,r=e.altKey,s=a&&(f[i]||f[n]),c=[];return o||r||!s||(n=s,a=i=null),o&&c.push("ctrl"),a&&c.push("shift"),r&&c.push("alt"),n&&c.push(n),i&&c.push(i),c.join("+")},isHotKey:function(e,t){return n(this.hotKey(e))==n(t)}}}()),_fQMWL.extend("method",function(){var s="_aNi_",c="_qUEuE_",l="processing",u="_step_event_",a=/^([+-]=)?([\d+-.]+)(.*)$/,r=_fQMWL.easing={linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},n={opacity:function(e){e._moDom$.css("opacity",e._mnNow)},_default:function(e){e._moDom$.css(e._msProp,("width"===e._msProp||"height"===e._msProp?Math.max(0,e._mnNow):e._mnNow)+e._msUnit)}},f=[],m=0;function d(e,t){if(_fIsObj(e)){var n=this,i=t[0]||s,o=t[1],a=e[c]=e[c]||{};if(_oQueue=a[i],"clear"===o)_oQueue&&(_oQueue[0]===l?_oQueue.length=1:delete a[i]);else if("shift"===o){var r=_oQueue&&_oQueue.shift();r===l&&(r=_oQueue.shift()),r&&(i===s&&_oQueue.unshift(l),_fCall(n,r,[e,function(){d.call(n,e,[i,"shift"])}]))}else{if("len"===o)return _oQueue?_oQueue.length:0;!_oQueue&&(_oQueue=a[i]=[]),_oQueue.push(o),i===s&&_oQueue[0]!==l&&d.call(n,e,[i,"shift"])}}}function p(e,t){return t(e)?e:_aoUndefined}function _(e,t){var n,i,o=a.exec(e);return o?(n=parseFloat(o[2]),o[1]&&(n=("-="===o[1]?-1:1)*n+t),i=o[3]):n=e?parseFloat(e):t,{_nVal:n,_sUnit:i}}function h(e,t,n){var i=t._oSpecialEasing[n],o=t.sEasing||"swing";this._moDom$=e,this._moOpts=t,this._msProp=n,this._mfEasing=r[i]||r[o]||r.swing}function g(){for(var e=0;e<f.length;e++)!f[e]()&&f.splice(e--,1);!f.length&&function t(){clearInterval(m),m=0}()}h.prototype={_cur:function(){var e=parseFloat(this._moDom$.css(this._msProp));return e&&-1e4<e?e:0},_play:function(e,t,n){var i=this;function o(e){return i._step(e)}i._mnStartTime=_fNow(),i._mnStart=e,i._mnEnd=t,i._mnNow=i._mnStart,i._msUnit=n||i._msUnit||"px",i._mnPos=i.mnState=0,o._oDom=i._moDom$.data(0),o()&&f.push(o)&&!m&&(m=setInterval(g,13))},_step:function(e){var t=this,n=t._moOpts,i=n._nDuration,o=_fNow(),a=!0;if(e||o>=i+t._mnStartTime){var r=n._oCurStyles;for(var s in t._mnNow=t._mnEnd,t._mnPos=t._mnState=1,t._update(),r[t._msProp]=!0,r)if(!0!==r[s]){a=!1;break}return a&&(!_fIsNull(n._sOverflow)&&t._moDom$.css("overflow",n._sOverflow),t._moDom$.call(n.oncomplete)),!1}var c=o-t._mnStartTime;return t._mnState=c/i,t._mnPos=t._mfEasing(t._mnState,c,0,1,i),t._mnNow=t._mnStart+(t._mnEnd-t._mnStart)*t._mnPos,t._update(),!0},_update:function(){var e=this,t=e._msProp;t===u?e._moDom$.call(e._moOpts.onstep,[e._mnNow,e._mnState]):((n[t]||n._default)(e),("height"===t||"width"===t)&&e._moDom$.css("display",""))}};var v={slow:600,fast:200,_default:400},y=/^([+-]=)?([\d+-.]+)(.*)$/,b="_fxCallback_",x="_fxTimeId_";return{queue:function(e,t){return _fIsStr(e)||(t=e,e=s),_fIsFunc(t)?this.each(d,{vParam:[e,t]}):this},queueLen:function(e){return d(this.data(0),[e,"len"])},dequeue:function(e){return this.each(d,{vParam:[e,"shift"]})},clearQueue:function(e){return this.each(d,{vParam:[e,"clear"]})},animate:function(){var e=arguments,r=e[0],l=function s(e,t,n,i){var o=_fIsObj(t)?t:{vDuration:t,sEasing:p(n,_fIsStr),oncomplete:p(i,_fIsFunc)||p(n,_fIsFunc)||p(t,_fIsFunc)},a=o.oncomplete;return o._nDuration=_fIsNum(o.vDuration)?o.vDuration:v[o.vDuration]||v._default,o.oncomplete=function(){_fIsFunc(a)&&this.call(a),!1!==o.bQueue&&this.dequeue()},o}.apply(this,e);return this[!1===l.bQueue?"each":"queue"](function(e){var t,n,i,s=this.$(e),o={},a={},c=s.extend({_oCurStyles:o,_oSpecialEasing:a},l);for(t in r)t!==(n=_fQMWL.camelName(t))&&(r[n]=r[t],delete r[t],t=n),"height"!==t&&"width"!==t||!e.style||(c._sOverflow=s.css("overflow")),_fIsArr(i=r[t])&&(a[t]=i[1],r[t]=i[0]),o[t]=r[t];c._sOverflow!=_aoUndefined&&s.css("overflow","hidden"),_fIsFunc(c.onstep)&&(o[u]=1),!1===s.call(c.onready)&&(c._nDuration=0),s.each(o,function(e,t){var n,i,o=new h(s,c,t),a=o._cur()||0,r=_fToStr(e).split(",");1<r.length?(n=_(r[0],a),i=_(r[1],a),o._play(n._nVal,i._nVal,n._sUnit||i._sUnit)):(i=_(r[0],a),o._play(a,i._nVal,i._sUnit))})})},stop:function(e,n){return e&&this.clearQueue(),this.each(function(e){for(var t=f.length-1;0<=t;t--)f[t]._oDom===e&&(n&&f[t](!0),f.splice(t,1))}),!n&&this.dequeue(),this},animate2:function(r,e,t,n){var s,c,l,i=[],u=function o(e,t,n){var i=e&&"object"==typeof e?e:{oncomplete:n||!n&&t||this.isFunc(e)&&e,duration:e,_sEasing:n&&t||t&&"string"==typeof t&&t||"linear"};return i.duration="number"==typeof i.duration?i.duration:v[i.duration]||v._default,i.old=i.oncomplete,i.oncomplete=function(){!1!==i.queue&&this.dequeue(),this.isFunc(i.old)&&i.old.call(this)},i}(e,t,n);for(s in r)i.push(s);return c=i.join(", "),this[!1===u.queue?"each":"queue"](function(e){var t=this.$(e);for(s in u.onready&&u.onready.call(t),r){var n=y.exec(r[s]);if(n&&n[1]){var i=parseFloat(n[2]),o=parseFloat(t.css(s))||0,a=n[3];i=("-="===n[1]?-1:1)*i+o,r[s]=i+a}}t.css({webkitTransitionProperty:c,webkitTransitionDuration:u.duration+"ms",webkitTransitionTimingFunction:u.easing}),l=window.setTimeout(function(){t.css("webkitTransitionProperty","none"),u.oncomplete.call(t),t.data(0)[b]=_aoUndefined,t.data(0)[x]=_aoUndefined},u.duration),t.data(0)[b]=u.oncomplete,t.data(0)[x]=l,"none"==t.css("display")&&t.css("display","block"),t._moWin.setTimeout(function(){for(s in r)t.css(s,r[s])},0)})},stop2:function(e,s){var c=this;return e&&c.queue([]),c.each(function(e){for(var t=c.$(e),n=t.css("webkitTransitionProperty"),i=n&&n.split(",")||[],o={},a=0;a<i.length;a++){var r=c.trim(i[a]);o[r]=t.css(r,!s)}for(var a in o.webkitTransitionProperty="none",o)t.css(a,o[a]);s&&t.data(0)[b]&&t.data(0)[b](),c._moWin.clearTimeout(t.data(0)[x]),t.data(0)[b]=_aoUndefined,t.data(0)[x]=_aoUndefined,t.dequeue()}),c}}}()),_fQMWL.extend("instance",function(n){n.debug=function(){return _fDebug.apply(n.QMWin,arguments)},n.onerror=function(e,t,n){var i=_fNow()-_fThrowException._nExceptionTime;return(!_fIsNum(i)||100<i||i<0)&&_fHandleErr({oErr:{message:e,fileName:t,number:n},fFunc:arguments.callee.caller}),_nDebugType<_nDevType};try{n.document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}if(n.attachEvent&&!n.addEventListener){var i=n.QMWin.toMap("location|name|status|title|defaultStatus".split("|"),!0);n.QMWin.addPageUnloadEvent(function(){for(var e in n)try{!i[e]&&(n[e]=null)}catch(t){}})}}),_fInstance(_aoWin)})(window),function(i,l){var d=i.QMWin,n=d.ctor_(),o=n.prototype,r=d.cfg_(),e=o.fnCreater_;n.extend("version","QMFW/11.01.08"),n.extend("method",{uin:function(){return this.toNum(r.sUin,0)},owneruin:function(){return this.toNum(r.sOwneruin,0)},encryptuin:function(){return r.sEncryptUin||"0"},path:function(e){return this.isNull(e)?r.oPath:r.oPath[e]||""},res:function(e){return this.T(e).replace(this.path(),!0)},sid:function(){return r.sSid},from:function(){return r.sFrom||"ml"},suffix:function(e){var t=e;return n.CFG_DBG_TYPE>n.DBG_DEV_TYPE&&(t+=(-1<t.indexOf("?")?"&":"?")+"r="+this.random()),t}}),n.debug=function(){var e=arguments,t=e[e.length-1];return d.isNum(t)&&1e6<t&&(e=t==d.uin()?d.toArr(e).slice(0,-1):l),e},n.extend("method",{"package":$,pkgStatus:y,loadPkg:function(e,t){var n=this,i=t;return n.isFunc(i.onload)&&(i={_nGuid:n._moWin._guid_,onload:function(){i._nGuid===n._moWin._guid_&&n.call(t.onload,arguments)}}),function c(n,e){var i,o=e||{},a=n.length,r=!0,s=[];d.each(n,x,{vParam:d.extend({},o,o.onload?{onload:function(e,t){r=e&&r,t&&s.push(t),0==--a&&(i=s.join(" || "),u&&!e&&debug("load pkg["+n+"] error:"+i),f(o.onload,r,i))}}:l)})}(n.canLoop(e)?e:[e],i),n}}),n.extend("method",{run:function(e,t){var n=this._moWin[W];return this.callEx(n,e,t)},createApp:D,createAppEx:e(D),main:function(i){var o=this,a=o._moWin;return a[W]||o.loadPkg(i.oPkg,{onload:o.safeByConf(function(e,t){if(e){var n=i.sApp?F[i.sApp]:i.fApp;a[W]=new n(a,i.oCfg)}o.call(i.oncomplete,arguments)},"main_onload_func")}),o},lib:A,libEx:e(A),createLib:M,createLibEx:e(M),ctrl:j,ctrlEx:e(j),createCtrl:S,instanceofCtrl:function V(e,t){return e instanceof B[t]},createCtrlEx:e(S)});var m,t=["none","load fail","compile err","cycle dependent err","waiting","loading","loaded","complete"],a={},s=n.CFG_DBG_TYPE>n.DBG_DEV_TYPE,u=n.CFG_DBG_TYPE>n.DBG_ERR_TYPE,c=s,f=o.safe(function(e,t,n,i){d.call(e,[t,n,i])},"pkg onload");function p(e,t){var n=e._oOnloadList||(e._oOnloadList=[]);return d.isFunc(t)&&n.push(t),n}function _(e,t){var n=t._oWhoNeedMe;n||((n=t._oWhoNeedMe={})[t._oName]=!0),!0===n[e]?(b(v(e),3),h(t,!1,g(e),3)):v(e)._oWhoNeedMe=d.extend({_asNeedPkgName:!0},n)}function h(e,t,n,i){var o=e._oOnloadList;if(o)for(;0<o.length;)f(o.shift(),t,n,i)}function g(e,t){return["[",e,"] ",t||y(e),"; "].join("")}function v(e){return e?a[e]||(a[e]={_oName:e}):{_nStatusId:7}}function y(e){return t[b(v(e))]}function b(e,t){return l===t?e._nStatusId||0:e._nStatusId=t}function x(t,e){var n=v(t),i=e||{};switch(b(n)){case 0:case 1:var o=d.path("js"),a=d.suffix(o+t);i=d.extend({},e);b(n,5),p(n,i.onload),i.onload=function(e){5==b(n)&&(b(n,1),h(n,!1,g(t)))},d.loadJS(a,i,{charset:r.sCharSet});break;case 2:case 3:f(i.onload,!1,g(t));break;case 4:case 5:case 6:p(n,i.onload);break;case 7:f(i.onload,!0);break;default:f(i.onload,!1,g(t,"statusid err:"+b(n)))}}function $(o,e,a){var r=v(o),t=e||[],s=t.length;if(b(r)<6){function n(e,t,n){if(e){if(--s<0){try{a(),b(r,7),h(r,!0)}catch(i){u&&(debug(i),debug(a)),b(r,2),h(r,!1,[o," compile err:",i.message].join(""))}return!0}}else b(r,n||1),h(r,!1,g(o)+t,n||1)}b(r,6),n(!0)||(d.each(t,x,{vParam:{onload:n}}),c&&d.each(t,_,{vParam:r}))}}n.extend("method",(m={sid:1,username:1,foxacc:1,reloadurl:1,reloadurl:1,m3gmsid:1,mcookie:1,msid:1,defaultf:1,qm_flag:1,QFRIENDUNREADCNT:1,RSSUNREADCNT:1,rss_domain:1,qqmail_activated:1,qqmail_alias_default:1,qqmail_from:1,wimrefreshrun:1,"new":1,qm_sk:1,qm_ssum:1,qq2self_sid:1,exstype:1,lockurl:1,new_mail_num:1},{setUserCookie:function(e,t,n,i,o,a){if(1!=m[e])return d.setCookie(e,t,n,i,o,a);for(var r=d.getCookie(e),s=r?r.split("|"):[],c=d.uin(),l=c+"&"+t,u=!0,f=0;f<s.length;f++)s[f].match(c)&&(s[f]=l,u=!1);return r=s.join("|"),u&&(r+=(""==r?"":"|")+l),d.setCookie(e,r,n,i,o,a)},getUserCookie:function(){var e=d.getCookie(_asName);if(1!=m[_asName])return e;for(var t=e?e.split("|"):[],n=d.uin(),i=0;i<t.length;i++)if(t[i].match(n))return t[i].split("&")[1]||t[i];return e}})),n.extend("method",function(){var c,l={url:"/cgi-bin/getinvestigate",queueLen:100,interval:5e3,formdata:d.T("sid=$sid$&$rl$&$ls$")},t=d.now(),u=[];function f(e){return t%100<100*e}function m(e){(e||0<u.length)&&(d.ajax({sUrl:l.url,sType:"POST",vData:l.formdata.replace({sid:d.sid(),rl:e,ls:u.join("&")})}),u.length=0,c&&clearTimeout(c),c=null)}return{ossLog:function(e,t,n,i){var o=e||"realtime",a=function s(e){var n=[];return d.isStr(e)?n.push("&",e):d.each(e,function(e,t){n.push("&",t,"=",encodeURIComponent(e))}),n.shift()&&n.join("")}(n),r=d.isNum(t)?t:{all:1}[t||"all"]||.1;return"realtime"==o?f(r)&&m(a):(f(r)&&u.push(["delayurl","=",encodeURIComponent(a)].join("")),u.length>=l.queueLen?m():!c&&0<u.length&&(c=setTimeout(m,l.interval))),this},ossLogSetting:function(e){d.extend(l,e)}}}());var C=o.call,w=o.safeByConf;function E(e,t,n,i,o){var a=n.prototype=new i,r=C(w(o,"create"+e+":"+t),[i.prototype]);for(var s in r)a[s]=w(r[s],t+"."+s,!0);return a.name_=function(){return t},n}function k(e,t,n){return o.call(this,e,t,n)}function I(){return k.apply(this,arguments),this}function T(e){var t=function(){};return o.extend(t.prototype,e,{init_:L,super_:k,superEx_:I}),t}function D(){var e=arguments,t=!this.isStr(e[0]),n=t?"_PageApp_:"+this.loc("href"):e[0],i=t?e[0]:e[1],o=t?e[1]:e[2],a=function(e,t){var n=this,i={oContext:n};e&&(n.$=e.QMWin)&&(n.init_(t),1)&&n.$.ready(n.process_,i).addPageUnloadEvent(function(){n.destroy_()})};return E("App",n,t?a:F[n]=a,F[i.sSuper||"_defapp_"]||P,o)}function M(e,t,n){var i=O[e]=function(e,t){e&&(this.$=e.QMWin)&&this.init_(t)};return i._bStatic=!!t.bStatic,E("Lib",e,i,O[t.sSuper||"_deflib_"]||N,n)}function A(e,t){var n=O[e];if(n)return n._bStatic?n._oInstance||(n._oInstance=new n(i,t)):new n(this._moWin,t)}function S(e,t,n){return E("Ctrl",e,B[e]=function(e,t,n){e&&(this.$=e.QMWin).on(this,n||{})&&this.init_(t)},B[t.sSuper||"_defctrl_"]||Q,n)}function j(){var e,t,n=this._moWin,i=arguments,o=i[0],a=i[1],r=i[2],s=n[R]||(n[R]={}),c=s[o]||(s[o]={}),l=B[o];if(this.isStr(a)){if(t=c[a],this.isStr(r))return this.call(t,r,i[3])}else l&&(t=new l(n,a,r),(e=a&&a.sId)&&(c[e]=t));return t}var L=o.noop,W="_QmFw_aPp_",F={},P=T({process_:L,destroy_:function(){return this.$=l,this},isDestroy:function(){return!this.$}}),O={},N=T(),R="_QmFw_Ctrl_",B={},Q=T({fireEvent_:function(e,t){return this.$.fireEvent(this,e,t),this}});n.handleErr=function(e,t){if(t){for(var n,i=(e.oErr.fileName||"").split("?"),o=i.shift().split("/").pop(),a=i.join("?").split("&"),r={t:"t",s:"s"},s=[],c=0,l=a.length;c<l;c++)r[(n=a[c].split("="))[0]]&&s.push(r[n[0]],"=",n[1]);d.sid()&&d.ossLog("delay","all",{stat:"js_run_err",msg:e.oErr.message,line:e.oErr.number||e.oErr.lineNumber||-1,url:[o,"?",s.join("")].join(""),func:e.sName||e.fFunc?[e.sName,e.fFunc].join(":"):""})}};var z,U=(i.pkg||{})._pkgs_;if(i.pkg=$,o.isArr(U))for(;z=U.shift();)$.apply(this,z)}(window),$["package"]("comm/ctrl/history.js",[],function(e){QMWin.createCtrl("HashHistory",{},function(e){var n="_HiSToRyfRamE_",o="hash";history;return{hash:function(e){var t=this;return t.$.isNull(e)?t._msHash.substr(1):(t._setHistoryFrameHash(t._msHash="#"+e),t.$.loc("hash",t._msHash),t)},init_:function(e){this._initVariable()._createHistoryFrame()._startDetect()._mbIsUseIframe&&QMWin.addPageUnloadEvent(function(){QMWin.$("$"+n).inWin().onunload()})},_createHistoryFrame:function(){var e=this,t=e._moTop$;return e._mbIsUseIframe&&0==t.$("#"+n).size()&&(t.$("body").data(0)?t.$("body").insertIframe({id:n,src:"javascript:document.open();document.writeln('"+e._createHistoryFrameContent(e._moTop$.loc(o)).replace(/"/g,"\\x22")+"');document.close();",style:"position:absolute;display:none;"},"afterBegin"):t.setTimeout(arguments.callee,13,{oContext:e})),e},_createHistoryFrameContent:function(e){return["<html>","<head>",location.host!=document.domain?'<script>document.domain="'+document.domain+'"<\/script>':"",-1!=window.location.hostname.indexOf("exmail.qq.com")?'<script>document.domain="exmail.qq.com"<\/script>':"","<title>"+document.title+"</title>","</head>",'<body hash="',e,'"></body>',"</html>"].join("")},_change:function(e){return this._msHash=e,this.fireEvent_("change",[e.substr(1)])},_detectLocationChange:function(){var e,t=this,n=t._moTop$.loc(o),i=t._msHash;return i!=n?t._setHistoryFrameHash(n)._change(n):t._mbIsUseIframe&&(e=t._getHistoryFrameHash())&&i!=e&&(t._moTop$.loc(o,e),t._change(e)),t},_getHistoryFrame$:function(){try{return this._mbIsUseIframe&&this._moTop$.$("$"+n)}catch(e){}},_getHistoryFrameHash:function(){var e=this._getHistoryFrame$();return e&&e.$("body").attr(o)},_initVariable:function(){var e=this;return e._moTop$=e.$.$("$top"),e._msHash=e._moTop$.loc(o),e._mbIsUseIframe=!",".split(/,/).length,e},_setHistoryFrameHash:function(e){var t=this._getHistoryFrame$();return t&&t.rewrite(this._createHistoryFrameContent(e)),this},_startDetect:function(){var e=this,t="hashchange",n=e.$;return n.isBrowser("firefox|safari|chrome|opera")&&"on"+t in n.data(0)?n.addEvent(t,e._detectLocationChange,{oContext:e}):n.setInterval(e._detectLocationChange,50,{oContext:e}),e}}})}),$["package"]("comm/ctrl/cachemgr.js",[],function(e){var t=QMWin;t.ctor_();t.createLib("CacheManager",{},function(t){var n=function(e){this._moCacheArray=[],this._moCacheKey={},this._moCachePath={_default:{_oCache:{},_oChild:{}}},this._mnMaxCount=e||1e3};return n.prototype={_add:function(e,t,n){var i=this,o=i._moCacheArray,a=i._getPath(n);o.length==i._mnMaxCount&&i._remove(o[0]),o.push(i._moCacheKey[t]=a[t]=[e,t,n,a])},_getPathNames:function(e){var t=["_default"];return e||""!=e?t.concat(e.split("/")):t},_getPath:function(e){for(var t=this._moCachePath,n=this._getPathNames(e),i=0;i<n.length;i++){var o=n[i];t=t[o]=t[o]||{_oCache:{},_oChild:{}},t=i==n.length-1?t._oCache:t._oChild}return t},_get:function(e){var t=this._moCacheArray,n=this._moCacheKey[e];if(n)for(var i=t.length-1;0<=i;i--)if(t[i]==n)return(this._moCacheArray=t.slice(0,i).concat(t.slice(i+1,t.length))).push(n),n;return n},_remove:function(e){var t=this._moCacheArray;if(e)for(var n=e[1],i=(e[2],t.length-1);0<=i;i--)if(t[i]==e){this._moCacheArray=t.slice(0,i).concat(t.slice(i+1,t.length)),delete this._moCacheKey[n],delete e[3][n],delete e[3];break}},_removeByPathName:function(e,t){var n=this._getPathNames(e),i=this._moCachePath._default;if(!t)for(var o=1;o<n.length;o++){var a=i._oChild[n[o]];if(!a)break;i=a}this._removePath(i,t)},_removePath:function(e,t){var n=e._oCache,i=e._oChild;if(!t)for(var o in i)this._removePath(i[o]),delete i[o];for(var o in n)this._remove(n[o])}},{init_:function(e){this.superEx_(t,"init_",[e]).$;e=e||{},this._moCacheManager=new n(e.nCacheCount)},add:function(e,t,n){return this._moCacheManager._add(e,t,n)},get:function(e){return this._moCacheManager._get(e)},remove:function(e){var t=this._moCacheManager;return($.isStr(e)?t._removeByPathName:t._remove).apply(t,arguments)}}})}),$["package"]("comm/ctrl/tagevent.js",[],function(e){var g=QMWin;g.ctor_();function t(i){for(var e=1,t=arguments.length;e<t;e++)g.each(arguments[e],function(e,n){i[n]?g.each(e,function(e,t){i[n][t]||(i[n][t]=e)}):i[n]=e});return i}g.createLib("TagEventCatcher",{bStatic:!0},function(e){return{merge:t}}),g.createCtrl("TagEventModHandle",{},function(n){return{handle:function(e,t){var n=this.$,i=(this._moTagEventLib,e),o=function a(e){var t=e||{},i=t.rule&&t.rule()||[],o=t.events&&t.events()||{},n=t.eventLibs&&t.eventLibs()||[];return $.each(n,function(e){var t=g,n=a(t.lib(e.name));i=t.lib("TagEventCatcher").merge(i,n._oRule),o=t.extend(o,n._oEvents)}),{_oMod:t,_oRule:i,_oEvents:o}}(i);return this._moCatcher=n.ctrl("TagEventCatcher",n.extend({oDom:i.dom$(),oRule:o._oRule,oEvents:o._oEvents,oCallObj:i},t)),this},fire:function(){var e=this._moCatcher;e.fire.apply(e,arguments)},init_:function(e){var t=this.superEx_(n,"init_",[e]).$;this._moTagEventLib=t.lib("TagEventCatcher")}}}),g.createCtrl("TagEventCatcher",{},function(a){var d={click:"ck",dblclick:"dbl",mousedown:"md",mouseup:"mu",mouseover:"mor",mousemove:"mm",mouseout:"mot",keydown:"kd",keypress:"kp",keyup:"ku"},u=g.toMap("click,dblclick,mousedown,mouseup,mouseover,mousemove,mouseout,keydown,keypress,keyup,scroll".split(","),!0),n=0,p="__taGeVEntcATChErS__",_="un",f="__AdDEdeVeNTcAchE__",h={};function m(e){i(e,e.type)}function i(e,t,n,i){for(var o,a,r,s=n||g.target(e),c=[],l=[],u=[],f=-1,m=d[t]||t;s&&s.getAttribute&&((o=s===n?i:s.getAttribute(m))&&(c[++f]=s)&&(l[f]=o)&&(u[f]={}),!(-1<f&&((a=s.getAttribute(_))&&(u[f][a]=u[f][a]||s),r=s[p],$.isNum(r)&&!1===h[r]._matchRule(t,f+1,c,l,u,e))));)s=s.parentNode}return $.addPageUnloadEvent(function(){$.each(h,function(e,t){h[t]=null})}),{getDom$:function(){return this._moDom$},rule:function(){return{}},events:function(){return{}},merge:t,fire:function o(e,t,n){i(e,"fire",n||$.target(e),t)},init_:function(e){var t=this,n=t.superEx_(a,"init_",[e]).$,i=e&&(n.is(e.oDom)?e.oDom.data(0):e.oDom),o=n.isDom(i);return o&&n.isWinEqual(n.inWin(i))||n.error(o?"new ctrl cfg.oDom's window is not match ctrl's window":"new ctrl cfg.oDom is not dom obj",[this.name_()+"[TagEventCatcher].init_"]),t._moDom$=n.$(i),t._moRule=t._preProcessRule(e.oRule||t.rule()),t._moEvents=e.oEvents||t.events(),t._msDriven=e.sDriven||"event",t._moCallObj=e.oCallObj||t,t._catch()},_catch:function(){var e=this,t=e.$;return t.isNum(e._mnGuid)||(e._moDom$.data(0)[p]=e._mnGuid=n++,h[e._mnGuid]=e,t.each(e._moRule,e._catchRule,{oContext:e})),e},_catchRule:function(e,t){var n=this.$,i=this._moDom$;if(u[t]){for(var o,a=this.$.data(0),r=a[f]||(a[f]={}),s=r[t]||(r[t]=[]),c=!0,l=s.length-1;0<=l;l--){if((o=n.$(s[l])).contain(i)){c=!1;break}i.contain(o)&&(o.delEvent(t,m),s.pop())}c&&(i.addEvent(t,m),s.push(i.data(0)))}else i.addEvent(t,m);return this},_matchRule:function(e,t,n,i,o,a){var r=this,s=r.$,c=r._moRule;if(c=c[e])for(var l=0;l<t;l++){for(var u=i[l].split(","),f=!0,m=0,d=u.length;m<d;m++){var p,_,h=u[m],g=c[h];if(!g)break;if(p=g.sContext)for(var v=l;v<t&&!(_=o[v][p]);v++);else _=n[l];if(_){var y=g.sProcess||h;f=f&&!1!==s.safe(r._moEvents[y],[r.name_(),y].join(".")).call(r._moCallObj,a,n[l],_)&&!1!==g.bPropagable}}if(!f)return!1}return!0},_preProcessRule:function(e){return e}}})}),$["package"]("comm/ctrl/urlroute.js",["comm/ctrl/cachemgr.js","comm/ctrl/history.js"],function(e){var w="sMod",E="sPreAction",k="sAction",I=QMWin,d=(I.ctor_(),I.lib("CacheManager",{}));function T(e,t){var n=e.length,i=t.length;if(n<i)return!1;for(var o=0;o<i;o++)if(!new RegExp(["^",t[o],"([,/]+.*)?$"].join(""),"g").test(e[o]))return!1;return!0}I.createCtrl("UrlRouteModHandle",{},function(o){return{handle:function(e,t){var n=this,i=n.$.loc("hash"),o=n._moDom$=e;return n._moRootMod=n._moCurMod=$.ctrl(t,{oDom:o,oHandle:n}),n._moCurMod.toggle(!0),n._route(i.substr(i.indexOf("#")+1)),n},hash:function(e,t,n){var i=this.$;e=e.replace("#",""),(t||n)&&d.remove(i.isStr(t)?t:e);var o=i.loc("hash");o!="#"+e&&o!=e?i.loc("hash",e):i.fireEvent(this._moHashHistory,"change",[e])},clearCache:function(){d.remove.apply(d,arguments)},init_:function(e){var t=this,n=t.superEx_(o,"init_",[e]).$,i=t._moHashHistory=n.ctrl("HashHistory");t._moCtrls={},t._moHistory=[],t._moAjaxSettings=e.oAjaxSettings,n.on(i,"change",function(e){t._route(e)})},addEvent:function(e,t){return $.addEvent(this,e,t),this},_infoLoading:function(e){return $.fireEvent(this,"loading",[e]),!0},_infoLoaded:function(){return $.fireEvent(this,"loaded"),!0},_infoError:function(e){return $.fireEvent(this,"error",[e]),!0},_route:function(e){var t=this._moHistory;if(0!=e.indexOf("_goback,")){t.push(e),20<t.length&&t.shift();try{this._matchRoute(this._moCurMod,e)}catch(i){debug([e,i])}}else{t.pop();var n=t.pop()||e.slice(8);$.loc("hash",n)}},_switchRoute:function(e,t){var n=this;return(t||n._msRouteMod==e.name_())&&(n._msRouteMod=null,n._moCurMod!=e&&(n._moCurMod&&n._moCurMod.toggle(!1),(n._moCurMod=e).toggle(!0))),!0},_matchRoute:function(e,t,n,i){for(var o,a,r,s=this,c=e,l=t.split("/"),u=function C(e,t){if(e&&e._moMergeRoute)return e._moMergeRoute;var n=e||{},i=n.route(),o=i[0]?(t||[]).concat([i[0]]):[],a=i[1]||[],r=n.actions&&n.actions()||{},s=n.routeLibs&&n.routeLibs()||[];return $.each(s,function(e){var t=I,n=C(t.lib(e.name),o);a=a.concat(n._oRoute),r=t.extend(r,n._oActions)}),n._moMergeRoute={_oMod:n,_oRoute:a,_oRoutePaths:o,_oActions:r}}(c,n),f=u._oRoute,m=u._oRoutePaths,d=u._oActions,p=0;p<f.length;p++){var _=f[p][0],h=_.replace(/\[/g,"(?:").replace(/\]/g,")?").replace(/{\w+}/g,"([^,/]+)");if(a=""!=h?"^"+h:"",T(o=l,r=m)&&new RegExp(a,"g").test(o.slice(r.length,o.length).join("/"))){for(var g=f[p][1],v=new RegExp(h,"g").exec(l.slice(m.length).join("/")).slice(1),y=_.match(/\{\w+\}/gi)||[],b=[],x=0;x<y.length;x++)b.push([y[x],v[x]||""]);return g[w]?s._loadMod(t,g,m):s._loadPage(c,g.sUrl,{_CACHE:g.bCache,_HASH:m.join("/"),_ARGS:b},function(){return g[E]&&d[g[E]].apply(c,v),!0},function(e){s._switchRoute(c,i),I.isFunc(c.onpage)&&c.onpage.call(c,g,v,e),g[k]&&d[g[k]].apply(c,v)}),!g[w]}}T(l,m)||s._matchRoute(s._moRootMod,t,null,!0)},_loadMod:function(n,e,i){var o=this,a=e[w],t=e.sPkg;o._msRouteMod=a,o._moCtrls[a]?o._matchRoute(o._moCtrls[a],n,i):o._infoLoading("mod")&&$.loadPkg(t,{onload:function(e){if(e){if(o._msRouteMod==a){var t=o._moCtrls[a]=$.ctrl(a,{oDom:o._moDom$,oRoutePaths:i,oHandle:o});t&&o._infoLoaded()&&o._matchRoute(t,n,i)}}else o._infoError({msg:"\u52a0\u8f7d\u7ec4\u4ef6\u5931\u8d25"})}})},_loadPage:function(e,t,n,i,o){if(t){var a=this,r=n._CACHE,s=n._HASH,c=function m(e,t){for(var n=0;n<t.length;n++)e=e.replace(new RegExp(t[n][0],"g"),t[n][1]);return e}(t,n._ARGS)+"&ef=pg"+(r?"":"&r="+$.random()),l=e.dom$(),u=location.href,f=d.get(c);r&&f?l.html(f[0])&&a._infoLoaded()&&o&&o():a._infoLoading("page")&&i()&&$.ajax($.extend(a._moAjaxSettings,{sUrl:c,onsuccess:function(e,t,n){r&&d.add(e,c,s),u===location.href&&l.html(e)&&a._infoLoaded()&&o&&o(e)},onerror:function(e,t,n){u===location.href&&(a._infoError(n),history.back())}}))}else o&&o()}}})}),$["package"]("comm/extend/qmcgi.js",[],function(e){var t=$.ctor_(),_=t.prototype.ajax;t.extend("version","QMCGI/11.08.30"),t.extend("method",function(){var f="cgi exception",m="\x3c!--"+f+"--\x3e",d={errcode:"-2",errmsg:"\u7cfb\u7edf\u5f02\u5e38"};function p(e,t,n,i){for(var o,a,r,s=[],c=0;c<e.length;c++){switch(e[c].name){case"verifykey":t&&(e[c].value=t)&&(o=!0);break;case"verifycode":n&&(e[c].value=n)&&(a=!0);break;case"verifycode_cn":i&&(e[c].value=i)&&(r=!0)}s.push(e[c])}return!o&&t&&s.push({name:"verifykey",value:t}),!a&&n&&s.push({name:"verifycode",value:n}),!r&&i&&s.push({name:"verifycode_cn",value:i}),s}return{ajaxVerifyCode_:function(e,t,n,i){var c=this,l=e||{},o=t,a=o.script.match(/verifyCode\(.*?,\s*(.*?)\s*\)/),u=(a&&a[1]||"").slice(1,-1);o.type="verifycode",o.verify=function(e){var t=l.vData;if(c.isArr(t))l.vData=p(t.slice(0),u,e,e);else if(c.isObj(t))l.vData=c.extend({},t,{verifykey:u,verifycode:e,verifycode_cn:e});else{for(var n,i,o,a=[],r=t.split("&"),s=0;s<r.length;s++)n=r[s].split("="),a.push({name:n[0],value:n[1]});a=p(a,u,e,e),c.each(a,function(e){o=[e.name,"=",e.value].join(""),i=i?[i,"&",o].join(""):o}),l.vData=i}return _.call(c,l)}},ajaxFolderPwd_:function(e,t,n,i){var o=this,a=e||{},r=t;r.type="folderpwd",r.folderpwd=function(){return _.call(o,a)}},ajaxSessionTimeout_:function(e,t,n,i){var o=t;this.eval("var getTop ="+function(){for(var e=window;e.parent&&e!=e.parent&&(e.parent.QMWin||e.parent.getTop);)e=e.parent;return e}.toString()),this.eval(o.script),o.message="\u4f1a\u8bdd\u8fc7\u671f"},ajax:function(e){var c=this,l=c.extend({},e),o=l.onerror,u=l.ondatafilter;return l.onerror=function(e,t,n){var i=n||{};switch(t){case"timeout":i.message="\u8bf7\u6c42\u8d85\u65f6";break;case"error":i.message="\u94fe\u63a5\u5f02\u5e38";break;default:!n&&(i.message=t||"unknow err")}$.call(o,[e,t,i])},l.ondatafilter=function(e,t){var n=e;if(c.isStr(n)&&-1!=n.indexOf(f)&&n.indexOf(m)<0&&"undefined"!=typeof c.evalVal(n).errmsg){var i,o={type:"cgiexception"},a=[];if(-1!=n.indexOf(m)){var r=c.$("<div>").html(n).find("div#msg_txt"),s=0<r.size();o.errcode=s?r.attr("code"):d.errcode,o.message=s?c.filteScript(r.html()):d.errmsg,i=r.find("script")}else o.json=c.evalVal(n)||d,o.message=c.filteScript(o.json.errmsg),i=c.$("<div>").html("#ie bug#"+o.json.errmsg).find("script");i.each(function(e){a.push(e.innerHTML)}),o.script=a.join(";"),-1<o.script.indexOf("verifyCode")?c.ajaxVerifyCode_(l,o,n,t):-1<o.script.indexOf("folderpwd")?c.ajaxFolderPwd_(l,o,n,t):0<=o.script.indexOf("s=session_timeout")&&$.sid()&&c.ajaxSessionTimeout_(l,o,n,t),c.error(o)}return c.isFunc(u)&&(n=u(n,t)),n},_.call(c,l)}}}())}),$["package"]("comm/framework/Page/app/base.js",["comm/ctrl/urlroute.js"],function(e){var n=QMWin;n.createApp("Page.Base",{},function(t){return{app_:function(){return""},index_:function(){return this.app_()+".Index"},pageCfg_:function(){return{container:this.$.$("#main"),route:{oAjaxSettings:{nTimeout:this._mnTimeout}}}},initBase_:function(e){return this},initData_:function(e){return this},initRoute_:function(e){return this},init_:function(e){this.superEx_(t,"init_")._initBase(e).initBase_(e).initData_(e)._initUrlRoute(e)},_initBase:function(e){return this._initData(e)},_initData:function(e){return this._mnTimeout=e.timeout||0,this},_initUrlRoute:function(e){var t=this.pageCfg_();this.initRoute_(n.ctrl("UrlRouteModHandle",t.route).handle(this.pageCfg_().container,this.index_()))}}})}),$["package"]("comm/framework/Page/controller/base.js",["comm/ctrl/tagevent.js"],function(e){var c=QMWin,i=(c.ctor_(),c.ctrl("TagEventModHandle"));c.createCtrl("Page.Mod",{},function(n){return{dom$:function(){return this._moDom$},mask$:function(){var e="___mASkeR___",t=this._moDom$.find("#"+e);return t.size()?t:this.$.$("<div>").attr("id",e).appendTo(this._moDom$)},routeLibs:function(){return[]},routePaths:function(){return this._moRoutePaths},route:function(){return["",[]]},actions:function(){return{}},toggle:function(e){var t=this;return e?c.addEvent("postCall",t._mfPostCallback)&&c.addEvent("iframeLoad",t._mfFrameLoadCallback)&&i.handle(t):c.delEvent("postCall",t._mfPostCallback)&&c.delEvent("iframeLoad",t._mfFrameLoadCallback),t},eventLibs:function(){return[]},rule:function(){return{}},events:function(){return{}},pageLibs:function(){return[]},validLibs:function(){return[]},initPage:function(){return this},page:function(){return{}},pageTipsCfg:function(){return{tipsErrContainer:this.$.$("#tipsError"),tipsMsgContainer:this.$.$("#tipsMsg"),tipsProcessContainer:this.$.$("#tipsProcess")}},adjustTips:function(e,t,n){if(!e)return!1;n=n||{},e.show().html(t);var i=e.innerWidth("width"),o=document.body.clientWidth;if(i<o){var a=100*((o-i)/2/o).toFixed(2);n.offsetX=n.offsetX||0,e.data(0).style.left=a+n.offsetX+"%"}},showErr:function(e,t,n){var i=this,o=t||2e3;if(null!=e&&""!=e){var a=i.hideMsg().pageTipsCfg().tipsErrContainer;!0===(n=n||{}).adjustX?i.adjustTips(a,e,n):a.show().html(e),setTimeout(function(){i.hideMsg()},o)}return i},hideMsg:function(e,t){return this.pageTipsCfg().tipsErrContainer.hide(),this.pageTipsCfg().tipsMsgContainer.hide(),this},showMsg:function(e,t,n){var i=this,o=t||2e3;return i.hideMsg().pageTipsCfg().tipsMsgContainer.show().html(e),setTimeout(function(){i.hideMsg(),c.call(n)},o),i},showProcess:function(e,t){return this.hideMsg().pageTipsCfg().tipsProcessContainer.show().html(e),this},iframeLoad:function(e){return this},postSuccess:function(e){return this},postError:function(e){return this.showErr(e.errmsg)},ajax:function(e){return c.ajax(this.fGetAjaxSetting(e,this)),this},hash:function(e,t){return this._moRouteHandle.hash(e,t),this},clearCache:function(){var e=this._moRouteHandle;return e.clearCache.apply(e,arguments),this},onpage:function(e,t,n){return this},onloading:function(e){this._moDom$.html("")},onsubmit_:function(){},initUserData:function(){return""},fGetAjaxSetting:function(e,n){if(e&&e._mbSetedAjaxSetting)return e;var t=e||{},i=(t.sDefaultErrMsg,t.onsuccess||function(){}),o=t.onerror||function(){},a=t.onclienterror||function(e,t){n&&n.showErr(t)},r=t.onerrorhandle||function(e){return e.retcode=e.retcode||e.data.retcode,e.sessionTimeout?n.logOut():"0"==e.retcode||(""==e.errmsg&&e.errmsg,a(e.retcode,e.errmsg,e),!1)};t.onerror=function(e,t,n){o.apply(this,arguments),a(-99999,"\u7f51\u7edc\u9519\u8bef",n)},t.onsuccess=function(e){var t;try{t=c.evalVal(e)}catch(n){r(t=t||{retcode:"-999",msg:"\u6570\u636e\u683c\u5f0f\u5f02\u5e38"},e)&&i(t)}r(t=t||{retcode:"-999",msg:"\u6570\u636e\u683c\u5f0f\u5f02\u5e38"},e)&&i(t)};var s="&ef=js&r="+c.unikey();return t.vData?t.vData+=s:t.sUrl+=s,t._mbSetedAjaxSetting=!0,t.nTimeout=t.nTimeout||3e4,t},init_:function(e){var t=this.superEx_(n,"init_",[e]);t._moDom$=e.oDom,t._moRouteHandle=e.oHandle,t._moRoutePaths=e.oRoutePaths||[],t.initMod_()},initMod_:function(){return this}}})}),$["package"]("comm/ctrl/formvalid.js",[],function(e){var g=QMWin,i=(g.ctor_(),/^[\.a-zA-Z0-9_=-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/),o=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,s=/^[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,a=/^(\d{3,4})(\-\d{7,8})(\-\d{1,4})?$/,c=/^(\d{7,16})$/,l=/^\d{11}$/,u=/^(\d{11})?$/,f=/^[+]?[0-9]+$/,m=/[\u005B-\u0060\u007B-\u007E\uFE50-\uFE52\uFE54-\uFE58\uFE5B-\uFE66\uFE68-\uFE6B\uFF01-\uFF07\uFF0A-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFE10-\uFE19\u02B9-\u02E1\u02EC-\u02FF\u0300-\u036F\u3000\u3002-\u301F\u2010-\u2027\u00B0-\u00BF\u0020-\u0027\u002A-\u002D\u002F\u003A-\u0040\u00D7]/;_oTmpValidErr=g.T(['<span class="valid_error" un="validErr">','<span class="valid_icon"></span>','<span class="valid_msg">$msg$</span>',"</span>"]),_sTmpValidOK=['<span class="valid_ok" un="validOK">','<span class="valid_icon"></span>',"</span>"].join(""),g.createCtrl("FormValid",{},function(n){return{add:function(e){g.extend(this._moValidFunc,e.func),g.extend(this._moField,e.field)},valid:function(e){var d=this,p=d._moValidFunc,_=d._moField,h=!0;return e.each(function(e){var t=d.$.$(e),n=t.find("[un='validMsg']"),i=t.attr("valid"),o=(t.attr("validMsg")||"").split("|"),a="",r=[];if(r=-1==i.indexOf("#")?i.split("|"):(a=(i=i.split("#"))[0],i[1].split("|")),-1!=a.indexOf("off"))return!0;for(var s=-1!=a.indexOf("erronly"),c=0;c<r.length;c++){var l=((u=r[c].split(":"))[1]||"").split(","),u=u[0];if(g.isFunc(p[u])){var f=p[u].apply(p,[t,o[c]||""].concat(l)),m=_[u]?t.find(_[u]):n;if(0==f[0])m.html(s?"":_sTmpValidOK);else{if(!(0<f[0])){h=!1,m.html(_oTmpValidErr.replace(f[1]));break}m.html("")}}}}),h},init_:function(e){var t=this.superEx_(n,"init_",[e]);t._moValidFunc={},t._moField={}}}}),g.createLib("FormValid.Default",{bStatic:!0},function(e){function r(e){if(18==e.length&&/^[0-9A-Z]+$/.test(e)){for(var t,n=0,i=[1,3,9,27,19,26,16,17,20,29,25,13,8,24,10,30,28],o=0;o<e.length-1;o++)t=e.substring(o,o+1),n+="0123456789ABCDEFGHJKLMNPQRTUWXY".indexOf(t)*i[o];var a=31-n%31;31==a&&(a=0);return(a="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F,G,H,J,K,L,M,N,P,Q,R,T,U,W,X,Y".split(",")[a])==e.substring(17,18)}return!1}return{valids:function(){return{func:{empty:function(e,t,n){return""!=g.trim(e.find("input,textarea").attr("value"))?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165"+t}]},empty2:function(e,t,n){return""!=g.trim(e.find("input,textarea").attr("value"))?[0]:[-1,{msg:t}]},empty_rely:function(e,t,n){return e.find("input[type='checkbox']").attr("checked")?""!=g.trim(e.find("input[type='text']").attr("value"))?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165"+t}]:[0]},invoiceHeadSymbol:function(e,t,n){return m.test(e.find("input").attr("value"))?[-1,{msg:t}]:[0]},invoiceHeadStyle:function(e,t,n){var i=!1;return-1!=e.find("input").attr("value").indexOf("\u516c\u53f8")&&"3"==e.find("input").attr("data-invheadstyle")&&(i=!0),i?[-1,{msg:t}]:[0]},domain_rely:function(e,t,n){if(e.find("input[type='checkbox']").attr("checked")){for(var i=0,o=e.find("input[type='text']").attr("value").split(";"),a=o.length;a--;)s.test(o[a])&&i++;return i===o.length?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165"+t}]}return[0]},number_rely:function(e,t,n){if(e.find("input[type='checkbox']").attr("checked")){return/^[0-9]*$/.test(g.trim(e.find("input[type='text']").attr("value")))?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165"+t}]}return[0]},len_rely:function(e,t,n,i,o){if(!e.find("input[type='checkbox']").attr("checked"))return[0];if(n||i){for(var a=g.trim(e.find("input[type='text']").attr("value")),r=parseInt(n),s=parseInt(i),c=0,l=0;l<a.length;l++)127<a.charCodeAt(l)||94==a.charCodeAt(l)?c+=2:c++;if(r&&r<c)return[-1,{msg:o?t:[t,"\u4e0d\u80fd\u8d85\u8fc7",r,"\u4e2a\u5b57\u7b26"].join("")}];if(s&&c<s)return[-1,{msg:o?t:[t,"\u4e0d\u80fd\u5c11\u4e8e",s,"\u4e2a\u5b57\u7b26"].join("")}]}},len:function(e,t,n,i,o){if(n||i){var a=g.trim(e.find("input,textarea").attr("value")),r=parseInt(n),s=parseInt(i);if(r&&a.length>r)return[-1,{msg:o?t:[t,"\u4e0d\u80fd\u8d85\u8fc7",r,"\u4e2a\u5b57\u7b26"].join("")}];if(s&&a.length<s)return[-1,{msg:o?t:[t,"\u4e0d\u80fd\u5c11\u4e8e",s,"\u4e2a\u5b57\u7b26"].join("")}]}return[0]},same:function(e,t,n){var i=e.find("input[vl='validsame1']").attr("value");return i==e.find("input[vl='validsame2']").attr("value")?[""==i?1:0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165\u76f8\u540c\u7684"+t}]},select:function(e,t,n,i){return e.find("select").attr("value")!=n?[0]:[-1,{msg:i?t:"\u8bf7\u9009\u62e9"}]},check:function(e,t,n){var i=!1;return e.find("input[type='checkbox']").each(function(e){i|=e.checked}),i?[0]:[-1,{msg:n?t:"\u8bf7\u786e\u8ba4"}]},email:function(e,t,n){return i.test(g.trim(e.find("input").attr("value")))?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684"+t}]},ip:function(e,t,n){return o.test(g.trim(e.find("input").attr("value")))?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684"+t}]},domain:function(e,t,n){return s.test(g.trim(e.find("input").attr("value")))?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684"+t}]},phone:function(e,t,n){var i=g.trim(e.find("input").attr("value"));return a.test(i)||l.test(i)?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684"+t}]},phone2:function(e,t,n){var i=g.trim(e.find("input").attr("value"));return u.test(i)?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684"+t}]},phone_foreign:function(e,t,n){var i=g.trim(e.find("input").attr("value"));return f.test(i)?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684"+t}]},number:function(e,t,n){return/^[0-9]*$/.test(g.trim(e.find("input").attr("value")))?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684"+t}]},num_or_letter:function(e,t,n){return/^[0-9A-Za-z]*$/.test(g.trim(e.find("input").attr("value")))?[0]:[-1,{msg:t}]},license_regist_number:function(e,t,n){var i=g.trim(e.find("input").attr("value")),o=t.split(",");return 15==i.length?function a(e){if(15!=e.length)return!1;var t=[],n=[],i=[];n[0]=10;for(var o=0;o<e.length;o++)i[o]=parseInt(e.substring(o,o+1),10),t[o]=n[o]%11+i[o],0==t[o]%10?n[o+1]=20:n[o+1]=t[o]%10*2;return 1==t[14]%10}(i)?[0]:[-1,{msg:o[0]}]:18==i.length?r(i)?[0]:[-1,{msg:o[1]}]:[-1,{msg:o[2]}]},organization_code:function(e,t,n){var i=g.trim(e.find("input").attr("value")),o=t.split(",");return 9==i.length||10==i.length&&!/^([0-9A-Z]){8}-[0-9|X]$/.test(i)?[-1,{msg:o[2]}]:10==i.length&&8==i.indexOf("-")?function a(e){if(!/^([0-9A-Z]){8}-[0-9|X]$/.test(e))return!1;for(var t=[3,7,9,10,5,8,4,2],n=0,i=0;i<8;i++)n+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e.charAt(i))*t[i];var o=11-n%11;return 10==o&&(o="X"),11==o&&(o="0"),o==e.charAt(9)}(i)?[0]:[-1,{msg:o[0]}]:18==i.length?r(i)?[0]:[-1,{msg:o[1]}]:i.length?[-1,{msg:o[2]}]:void 0},easy_phone:function(e,t,n){var i=g.trim(e.find("input").attr("value"));return a.test(i)||l.test(i)||c.test(i)?[0]:[-1,{msg:n?t:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684"+t}]},num_range:function(e,t,n,i,o){if(i||n){var a=parseInt(g.trim(e.find("input,textarea").attr("value"))),r=parseInt(i),s=parseInt(n);if(r&&r<a)return[-1,{msg:o?t:["\u4e0d\u80fd\u8d85\u8fc7",r,t].join("")}];if(s&&a<s)return[-1,{msg:o?t:["\u4e0d\u80fd\u5c0f\u4e8e",s,t].join("")}]}}},field:{same:"[un='validSameMsg']"}}}}})}),$["package"]("comm/ctrl/ajaxform.js",[],function(e){var t=QMWin;t.ctor_();t.createLib("AjaxForm",{bStatic:!0},function(e){return{ajax:function(e,t,n){var i,o,a,r=this.$,s=n||{};r.$(t).find("[name]").each(function(e){if(("checkbox"!=(a=e.type)&&"radio"!=a||e.checked)&&""!=e.name){if("select"==e.tagName.toLowerCase()&&e.multiple&&"sm"==e.getAttribute("af")){o="";for(var t=e.name,n=0;n<e.options.length;n++)o+=[n?"&":"",t,"=",encodeURIComponent(e[n].value)].join("")}else o=e.name+"="+encodeURIComponent(e.value);i?i+="&"+o:i=o}}),i+="&ef=js&resp_charset=UTF8",s.sType="POST",s.vData=i,s.sUrl=t.attributes.action.value,s.bGlobal=!0,r.ajax(s),r.preventDefault(e)}}})}),$["package"]("biz/comm/lib/commevent.js",[],function(e){var t=QMWin;t.ctor_();t.createLib("B.Event.Comm",{bStatic:!0},function(e){return{eventLibs:function(){return[]},rule:function(){return{click:{changeVCImage:{sContext:"verifycode"}}}},events:function(){return{changeVCImage:function(e,t,n){var i=this.$.$(n);i.find("img[un='verifyimage']").attr("src",i.attr("v")+"&"+$.random())}}}}})}),$["package"]("biz/comm/lib/valid.js",["comm/ctrl/formvalid.js","comm/ctrl/md5.js"],function(e){var c=QMWin,h=(c.ctor_(),c.lib("hexMD5"));_oRegEmail=/^[\.a-zA-Z0-9_=-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,_oRegDomain=/^[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,_oRegAliasContent=/^[0-9a-zA-Z]([\-._]?[0-9a-zA-Z])*$/,_oRegDomainQuery=/^(www\.)?[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)*$/,_oRegDomainBlock=/(\.tk|\.co\.cc|\.cn\.mu|\.gv\.vg)$/;var g=null,v=null;c.createLib("B.Valid",{bStatic:!0},function(){return{valid:function(e){var t=[{name:"FormValid.Default"},{name:"B.Valid"}],n=$.ctrl("FormValid");return t.length&&$.each(t,function(e){var t=$.lib(e.name);t&&n.add(t.valids())}),n.valid(e.find("[valid]"))},valids:function(){return{func:{aliaslen:function(e,t,n){var i=parseInt(n)||63,o=c.trim(e.find("input").attr("value")),a=c.trim(e.find("select").attr("value"));return o.length+a.length+1>i?[-1,{msg:t}]:[0]},aliassame:function(e,t,n){return e.find("input").attr("value")!=n?[0]:[-1,{msg:t}]},alias:function(e,t){var n=e.find("input").attr("value");return!/^[0-9a-zA-Z\.\-_]*$/.test(n)||/(^[\.\-_])/.test(n)||/([\.\-_]$)/.test(n)||/[\.\-_][\.\-_]/.test(n)?[-1,{msg:t}]:[0]},aliasadmin:function(e,t){var n=e.find("input").attr("value");return/^[0-9a-zA-Z\.\-_]*$/.test(n)&&!/(^[\.\-_])/.test(n)&&!/([\.\-_]$)/.test(n)&&!/[\.\-_][\.\-_]/.test(n)&&4<=n.length&&n.length<=32?[0]:[-1,{msg:t}]},delimiter:function(e,t,n){for(var i=e.find("input,textarea").attr("value"),o=!1,a=n.length-1;0<=a;a--){var r=n.slice(a,a+1);-1!=i.indexOf(r)&&(o=!0)}return o?[-1,{msg:t}]:[0]},email:function(e,t){var n=e.find("input").attr("value");return _oRegEmail.test(n)?[0]:[-1,{msg:t}]},emailopt:function(e,t){var n=e.find("input").attr("value");return 0==n.length||_oRegEmail.test(n)?[0]:[-1,{msg:t}]},emaildomain:function(e,t){var n=e.find("input").attr("value");return _oRegEmail.test(n)||_oRegDomain.test(n)?[0]:[-1,{msg:t}]},domain:function(e,t){var n=e.find("input").attr("value");return _oRegDomain.test(n)?[0]:[-1,{msg:t}]},structsel:function(e,t){return e.find("input[name='partyid']").size()?[0]:[-1,{msg:t}]},mbrsel:function(e,t){return e.find("select[vl='mbrList']").data(0).options.length?[0]:[-1,{msg:t}]},domainstrict:function(e,t,n){var i=n.split("@"),o=e.find("input").attr("value").split("@")[1];i.pop();for(var a=0;a<i.length;a++)if(o==i[a])return[0];return[-1,{msg:t}]},domainquery:function(e,t){var n=e.find("input").attr("value");return _oRegDomainQuery.test(n)?[0]:[-1,{msg:t}]},dlgselect:function(e,t){return e.find("input[type='hidden']").size()?[0]:[-1,{msg:t}]},domainblock:function(e,t){var n=e.find("input").attr("value");return _oRegDomainBlock.test(n)?[-1,{msg:t}]:[0]},inputtextarea:function(e,t,n,i){if(n||i){var o=c.trim(e.find("input").attr("value")),a=parseInt(n),r=parseInt(i);if(a&&o.length>a)return[-1,{msg:[t,"\u8bf7\u8f93\u5165",r,"-",a,"\u4f4d\u7684\u5173\u952e\u5b57"].join("")}];if(r&&o.length<r)return[-1,{msg:[t,"\u8bf7\u8f93\u5165",r,"-",a,"\u4f4d\u7684\u5173\u952e\u5b57"].join("")}];if(-1!=o.indexOf(" "))return[-1,{msg:[t,"\u4e0d\u80fd\u5305\u542b\u7a7a\u683c"].join("")}]}return[0]},lentextarea:function(e,t,n,i,o){if(n||i){var a=c.trim(e.find("textarea").attr("value")),r=parseInt(n),s=parseInt(i);if(r&&a.length>r)return[-1,{msg:o?t:[t,"\u4e0d\u80fd\u8d85\u8fc7",r,"\u4e2a\u6c49\u5b57\u6216\u82f1\u6587\u5b57\u6bcd"].join("")}];if(s&&a.length<s)return[-1,{msg:o?t:[t,"\u4e0d\u80fd\u5c11\u4e8e",s,"\u4e2a\u6c49\u5b57\u6216\u82f1\u6587\u5b57\u6bcd"].join("")}]}return[0]},passwd:function(e,t,n){var i,o=e.find("input").attr("value"),a=(n||$.$("input[name='alias']").attr("value")).split("@")[0],r=!0,s=t,c=!1;if(-1!=location.hash.indexOf("#recovery/recover/")&&$.$("input[name='alias']").attr("value")&&1<$.$("input[name='alias']").attr("value").split("@").length?-1==(i=$.$("input[name='alias']").attr("value")).indexOf("@fangdd.com")&&-1==i.indexOf("@fangdd.com.cn")||(c=!0):-1!=location.hash.indexOf("#recovery/recover/")&&$.$("input[name='domain']").attr("value")&&1<$.$("input[name='domain']").attr("value").split(".").length&&("fangdd.com"!=(i=$.$("input[name='domain']").attr("value"))&&"fangdd.com.cn"!=i||(c=!0)),c){/[a-z]/.test(o)&&/[A-Z]/.test(o)||/[a-z]/.test(o)&&/[0-9]/.test(o)||/[A-Z]/.test(o)&&/[0-9]/.test(o)||(r=!1);var l=["012","123","234","345","456","567","678","789"];for(f=0;f<8;f++)if(-1!==o.indexOf(l[f])){r=!1;break}return new RegExp("[\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\+\\`\\-\\=\\[\\]\\\\\\{ \\}\\|\\;\\'\\:\\\"\\,\\.\\/\\<\\>\\?]").test(o)||(r=!1),8<=o.length&&o.length<=32&&r?[0]:[-1,{msg:s}]}r=(a.length<3||-1==o.toLowerCase().indexOf(a))&&r,r=-1==o.indexOf(" ")&&r,i&&""!==i&&(r=(i.length<3||-1==o.toLowerCase().indexOf(i))&&r,r=(i.split(".")[0].length<3||-1==o.toLowerCase().indexOf(i.split(".")[0]))&&r);var u;null==g&&(g=$.$("input[un='comm_pwd']").attr("value"),g=(g=$.trim(g)).split(";")),u=g.length;for(var f=0;f<u;f++)if(g[f]&&-1<o.toLowerCase().indexOf(g[f].toLowerCase())){r=!1;break}return 6<=o.length&&o.length<=32&&/[A-Z]/.test(o)&&/[a-z]/.test(o)&&/[0-9]/.test(o)&&r?[0]:[-1,{msg:s}]},passwd_strict:function(e,t,n){var i,o=e.find("input").attr("value"),a=(n||$.$("input[name='alias']").attr("value")).split("@")[0],r=$.$("select[name='domainname']").attr("value"),s=!0,c=t,l=!1;if(!r&&$.$("input[name='alias']").attr("value")&&1<$.$("input[name='alias']").attr("value").split("@").length&&(r=$.$("input[name='alias']").attr("value").split("@")[1]),!r&&window.getTop&&-1==location.href.indexOf("t=biz_rf_home")&&getTop().S("useraddr")&&(r=getTop().S("useraddr").innerHTML.split("@")[1]),window.getTop&&-1==location.href.indexOf("t=biz_rf_home")){for(var u=getTop().getUserAlias(),f=u.length,m=0;m<f;m++)if(-1!=u[m].indexOf("@fangdd.com")||-1!=u[m].indexOf("@fangdd.com.cn")){l=!0;break}$.$("input[name='alias']").attr("value")&&1<$.$("input[name='alias']").attr("value").split("@").length&&(-1==(i=$.$("input[name='alias']").attr("value")).indexOf("@fangdd.com")&&-1==i.indexOf("@fangdd.com.cn")||(l=!0))}if(l){/[a-z]/.test(o)&&/[A-Z]/.test(o)||/[a-z]/.test(o)&&/[0-9]/.test(o)||/[A-Z]/.test(o)&&/[0-9]/.test(o)||(s=!1);var d=["012","123","234","345","456","567","678","789"];for(m=0;m<8;m++)if(-1!==o.indexOf(d[m])){s=!1;break}return new RegExp("[\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\+\\`\\-\\=\\[\\]\\\\\\{ \\}\\|\\;\\'\\:\\\"\\,\\.\\/\\<\\>\\?]").test(o)||(s=!1),8<=o.length&&o.length<=32&&s?[0]:[-1,{msg:c}]}if(s=(a.length<3||-1==o.toLowerCase().indexOf(a))&&s,r&&""!==r)s=(r.length<3||-1==o.toLowerCase().indexOf(r))&&s,s=(r.split(".")[0].length<3||-1==o.toLowerCase().indexOf(r.split(".")[0]))&&s;else if(window.QMWin&&0<=location.href.indexOf("t=biz_rf_home")&&0<$.$(".weworkIndexDomainItem").data().length)for(var m=0;m<$.$(".weworkIndexDomainItem").data().length;m++)s=($.$(".weworkIndexDomainItem").data(m).value.length<3||-1==o.toLowerCase().indexOf($.$(".weworkIndexDomainItem").data(m).value))&&s,s=($.$(".weworkIndexDomainItem").data(m).value.split(".")[0].length<3||-1==o.toLowerCase().indexOf($.$(".weworkIndexDomainItem").data(m).value.split(".")[0]))&&s;s=-1==o.indexOf(" ")&&s,/[A-Z]/.test(o)&&/[a-z]/.test(o)&&/[0-9]/.test(o)||(s=!1);var p;null==g&&(g=$.$("input[un='comm_pwd']").attr("value"),g=(g=$.trim(g)).split(";")),p=g.length;for(m=0;m<p;m++)if(g[m]&&-1<o.toLowerCase().indexOf(g[m].toLowerCase())){s=!1;break}if(1==s){var _=h.hexMD5(o);null==v&&(v=$.$("input[un='comm_pwd_md5']").attr("value"),v=(v=$.trim(v)).split(";")),v.length;for(m=0;m<p;m++)if(v[m]==_){s=!1;break}}return 6<=o.length&&o.length<=32&&s?[0]:[-1,{msg:c}]},mobile:function(e,t){var n=e.find("input").attr("value");return/^\d{11}$/.test(n)?[0]:[-1,{msg:t}]},select:function(e,t,n){return e.find("select").attr("value")!=n?[0]:[-1,{msg:t}]},mailtag:function(e,t){var n=!0;for(_sValue=e.find("input").attr("value"),_sInvalid="~!#$%^&*()=+|\\[]{};':\",?/<>",i=0,l=_sValue.length;i!=l;i++)if(-1!=_sInvalid.indexOf(_sValue.charAt(i))){n=!1;break}return n?[0]:[-1,{msg:t}]},chinesechar:function(e,t){return/[\u4E00-\u9FA5]/.test(c.trim(e.find("input").attr("value")))?[0]:[-1,{msg:t}]},url:function(e,t){var n=c.trim(e.find("input").attr("value"));return""==n||/^(\w+:\/\/)?[^\/?#]+\.\w+\S?/.test(n)?[0]:[-1,{msg:t}]},exist:function(e,t){return 0<e.find("input,textarea").size()?[0]:[-1,{msg:t}]},test:function(e,t){return debug(t||"test valid"),[0]}}}}}})}),$["package"]("biz/comm/lib/location.js",[],function(e){var t=QMWin,a=(t.ctor_(),["\u5317\u4eac","\u4e0a\u6d77","\u5e7f\u4e1c","\u6cb3\u5317","\u5185\u8499\u53e4","\u9ed1\u9f99\u6c5f","\u5c71\u897f","\u65b0\u7586","\u8fbd\u5b81","\u5409\u6797","\u6c5f\u82cf","\u9752\u6d77","\u7518\u8083","\u5b81\u590f","\u6d59\u6c5f","\u5b89\u5fbd","\u9655\u897f","\u6cb3\u5357","\u798f\u5efa","\u6c5f\u897f","\u5929\u6d25","\u5c71\u4e1c","\u897f\u85cf","\u56db\u5ddd","\u4e91\u5357","\u6e56\u5317","\u91cd\u5e86","\u6e56\u5357","\u8d35\u5dde","\u5e7f\u897f","\u6d77\u5357","\u9999\u6e2f","\u6fb3\u95e8","\u53f0\u6e7e","\u56fd\u5916"]),r={"\u9999\u6e2f":["\u9999\u6e2f"],"\u6fb3\u95e8":["\u6fb3\u95e8"],"\u6cb3\u5317":["\u90af\u90f8","\u8861\u6c34","\u77f3\u5bb6\u5e84","\u90a2\u53f0","\u5f20\u5bb6\u53e3","\u627f\u5fb7","\u79e6\u7687\u5c9b","\u5eca\u574a","\u5510\u5c71","\u4fdd\u5b9a","\u6ca7\u5dde"],"\u5185\u8499\u53e4":["\u547c\u4f26\u8d1d\u5c14","\u5174\u5b89\u76df","\u9521\u6797\u90ed\u52d2\u76df","\u5df4\u5f66\u6dd6\u5c14\u76df","\u5305\u5934","\u547c\u548c\u6d69\u7279","\u9521\u6797\u6d69\u7279","\u901a\u8fbd","\u8d64\u5cf0","\u4e4c\u6d77","\u9102\u5c14\u591a\u65af","\u4e4c\u5170\u5bdf\u5e03\u5e02"],"\u9ed1\u9f99\u6c5f":["\u5927\u5174\u5b89\u5cad","\u9ed1\u6cb3","\u9f50\u9f50\u54c8\u5c14","\u7ee5\u5316","\u9e64\u5c97","\u4f73\u6728\u65af","\u4f0a\u6625","\u53cc\u9e2d\u5c71","\u54c8\u5c14\u6ee8","\u9e21\u897f","\u6f20\u6cb3","\u5927\u5e86","\u4e03\u53f0\u6cb3","\u7261\u4e39\u6c5f","\u7ee5\u82ac\u6cb3"],"\u5c71\u897f":["\u957f\u6cbb","\u664b\u4e2d","\u6714\u5dde","\u5927\u540c","\u5415\u6881","\u5ffb\u5dde","\u592a\u539f","\u9633\u6cc9","\u4e34\u6c7e","\u8fd0\u57ce","\u664b\u57ce","\u4e94\u53f0\u5c71"],"\u65b0\u7586":["\u660c\u5409\u56de\u65cf\u81ea\u6cbb\u5dde","\u514b\u5b5c\u52d2\u82cf\u67ef\u5c14\u514b\u5b5c\u81ea\u6cbb\u5dde","\u4f0a\u7281\u54c8\u8428\u514b\u81ea\u6cbb\u5dde","\u963f\u62c9\u5c14","\u514b\u62c9\u739b\u4f9d","\u535a\u5c14\u5854\u62c9\u8499\u53e4\u81ea\u6cbb\u5dde","\u4e4c\u9c81\u6728\u9f50","\u5410\u9c81\u756a","\u963f\u514b\u82cf","\u77f3\u6cb3\u5b50","\u5580\u4ec0","\u548c\u7530","\u54c8\u5bc6","\u5947\u53f0"],"\u8fbd\u5b81":["\u846b\u82a6\u5c9b","\u76d8\u9526","\u8fbd\u9633","\u94c1\u5cad","\u961c\u65b0","\u671d\u9633","\u9526\u5dde","\u978d\u5c71","\u6c88\u9633","\u672c\u6eaa","\u629a\u987a","\u8425\u53e3","\u4e39\u4e1c","\u74e6\u623f\u5e97","\u5927\u8fde"],"\u5409\u6797":["\u8fbd\u6e90","\u901a\u5316","\u767d\u57ce","\u677e\u539f","\u957f\u6625","\u5409\u6797\u5e02","\u6866\u7538","\u5ef6\u8fb9\u671d\u9c9c\u65cf\u81ea\u6cbb\u5dde","\u96c6\u5b89","\u767d\u5c71","\u56db\u5e73"],"\u6c5f\u82cf":["\u65e0\u9521","\u82cf\u5dde","\u76f1\u7719","\u8d63\u6986","\u4e1c\u53f0","\u9ad8\u90ae","\u9547\u6c5f","\u6cf0\u5dde","\u5bbf\u8fc1","\u5f90\u5dde","\u8fde\u4e91\u6e2f","\u6dee\u5b89","\u5357\u4eac","\u626c\u5dde","\u76d0\u57ce","\u5357\u901a","\u5e38\u5dde"],"\u9752\u6d77":["\u6d77\u5317\u85cf\u65cf\u81ea\u6cbb\u5dde","\u6d77\u5357\u85cf\u65cf\u81ea\u6cbb\u5dde","\u897f\u5b81","\u7389\u6811\u85cf\u65cf\u81ea\u6cbb\u5dde","\u9ec4\u5357\u85cf\u65cf\u81ea\u6cbb\u5dde","\u679c\u6d1b\u85cf\u65cf\u81ea\u6cbb\u5dde","\u6d77\u897f\u8499\u53e4\u65cf\u85cf\u65cf\u81ea\u6cbb\u5dde","\u6d77\u4e1c"],"\u7518\u8083":["\u5f20\u6396","\u91d1\u660c","\u6b66\u5a01","\u5170\u5dde","\u767d\u94f6","\u5b9a\u897f","\u5e73\u51c9","\u5e86\u9633","\u7518\u5357","\u4e34\u590f","\u5929\u6c34","\u5609\u5cea\u5173","\u9152\u6cc9","\u9647\u5357"],"\u5b81\u590f":["\u77f3\u5634\u5c71","\u94f6\u5ddd","\u5434\u5fe0","\u56fa\u539f"],"\u6d59\u6c5f":["\u6e56\u5dde","\u5d4a\u5dde","\u5e73\u6e56","\u77f3\u6d66","\u5b81\u6d77","\u6d1e\u5934","\u821f\u5c71","\u676d\u5dde","\u5609\u5174","\u5b9a\u6d77","\u91d1\u534e","\u7ecd\u5174","\u5b81\u6ce2","\u8862\u5dde","\u4e3d\u6c34","\u53f0\u5dde","\u6e29\u5dde"],"\u5b89\u5fbd":["\u6dee\u5357","\u9a6c\u978d\u5c71","\u6dee\u5317","\u94dc\u9675","\u6ec1\u5dde","\u5de2\u6e56","\u6c60\u5dde","\u5ba3\u57ce","\u4eb3\u5dde","\u5bbf\u5dde","\u961c\u9633","\u516d\u5b89","\u868c\u57e0","\u5408\u80a5","\u829c\u6e56","\u5b89\u5e86","\u9ec4\u5c71"],"\u9655\u897f":["\u6986\u6797","\u5ef6\u5b89","\u897f\u5b89","\u6e2d\u5357","\u6c49\u4e2d","\u5546\u6d1b","\u5b89\u5eb7","\u94dc\u5ddd","\u5b9d\u9e21","\u54b8\u9633"],"\u6cb3\u5357":["\u5b89\u9633","\u4e09\u95e8\u5ce1","\u90d1\u5dde","\u5357\u9633","\u5468\u53e3","\u9a7b\u9a6c\u5e97","\u4fe1\u9633","\u5f00\u5c01","\u6d1b\u9633","\u5e73\u9876\u5c71","\u7126\u4f5c","\u9e64\u58c1","\u65b0\u4e61","\u6fee\u9633","\u8bb8\u660c","\u6f2f\u6cb3","\u5546\u4e18","\u6d4e\u6e90"],"\u798f\u5efa":["\u8386\u7530","\u6d66\u57ce","\u5357\u5e73","\u5b81\u5fb7","\u798f\u5dde","\u9f99\u5ca9","\u4e09\u660e","\u6cc9\u5dde","\u6f33\u5dde","\u53a6\u95e8"],"\u6c5f\u897f":["\u5e90\u5c71","\u7389\u5c71","\u8d35\u6eaa","\u5e7f\u660c","\u840d\u4e61","\u65b0\u4f59","\u5b9c\u6625","\u8d63\u5dde","\u4e5d\u6c5f","\u666f\u5fb7\u9547","\u5357\u660c","\u9e70\u6f6d","\u4e0a\u9976","\u629a\u5dde"],"\u5317\u4eac":["\u5317\u4eac"],"\u5929\u6d25":["\u5929\u6d25","\u5858\u6cbd\u533a"],"\u5c71\u4e1c":["\u5fb7\u5dde","\u6ee8\u5dde","\u70df\u53f0","\u804a\u57ce","\u6d4e\u5357","\u6cf0\u5b89","\u6dc4\u535a","\u6f4d\u574a","\u9752\u5c9b","\u6d4e\u5b81","\u65e5\u7167","\u6cf0\u5c71","\u67a3\u5e84","\u4e1c\u8425","\u5a01\u6d77","\u83b1\u829c","\u4e34\u6c82","\u83cf\u6cfd"],"\u897f\u85cf":["\u90a3\u66f2","\u65e5\u5580\u5219","\u62c9\u8428","\u5c71\u5357","\u963f\u91cc","\u660c\u90fd","\u6797\u829d"],"\u56db\u5ddd":["\u7518\u5b5c\u85cf\u65cf\u81ea\u6cbb\u5dde","\u963f\u575d\u85cf\u65cf\u7f8c\u65cf\u81ea\u6cbb\u5dde","\u6210\u90fd","\u7ef5\u9633","\u96c5\u5b89","\u5ce8\u7709\u5c71","\u4e50\u5c71","\u5b9c\u5bbe","\u5df4\u4e2d","\u8fbe\u5dde","\u9042\u5b81","\u5357\u5145","\u6cf8\u5dde","\u81ea\u8d21","\u6500\u679d\u82b1","\u5fb7\u9633","\u5e7f\u5143","\u5185\u6c5f","\u5e7f\u5b89","\u7709\u5c71","\u8d44\u9633","\u51c9\u5c71\u5f5d\u65cf\u81ea\u6cbb\u5dde"],"\u4e91\u5357":["\u662d\u901a","\u4e3d\u6c5f","\u66f2\u9756","\u4fdd\u5c71","\u5927\u7406\u767d\u65cf\u81ea\u6cbb\u5dde","\u695a\u96c4\u5f5d\u65cf\u81ea\u6cbb\u5dde","\u6606\u660e","\u745e\u4e3d","\u7389\u6eaa","\u4e34\u6ca7","\u601d\u8305","\u7ea2\u6cb3\u54c8\u5c3c\u65cf\u5f5d\u65cf\u81ea\u6cbb\u5dde","\u6587\u5c71\u58ee\u65cf\u82d7\u65cf\u81ea\u6cbb\u5dde","\u897f\u53cc\u7248\u7eb3\u50a3\u65cf\u81ea\u6cbb\u5dde","\u5fb7\u5b8f\u50a3\u65cf\u666f\u9887\u65cf\u81ea\u6cbb\u5dde","\u6012\u6c5f\u50f3\u50f3\u65cf\u81ea\u6cbb\u533a","\u8fea\u5e86\u85cf\u65cf\u81ea\u6cbb\u5dde"],"\u6e56\u5317":["\u8944\u6a0a","\u5b9c\u660c","\u8346\u95e8","\u8346\u5dde","\u9ec4\u5188","\u6069\u65bd\u571f\u5bb6\u65cf\u82d7\u65cf\u81ea\u6cbb\u5dde","\u6b66\u6c49","\u9ec4\u77f3","\u9102\u5dde","\u5b5d\u611f","\u54b8\u5b81","\u968f\u5dde","\u4ed9\u6843","\u5929\u95e8","\u6f5c\u6c5f","\u795e\u519c\u67b6"],"\u91cd\u5e86":["\u5949\u8282","\u91cd\u5e86","\u6daa\u9675"],"\u6e56\u5357":["\u5f20\u5bb6\u754c","\u5cb3\u9633","\u6000\u5316","\u957f\u6c99","\u90b5\u9633","\u76ca\u9633","\u90f4\u5dde","\u6851\u690d","\u6c85\u9675","\u5357\u5cb3","\u682a\u6d32","\u6e58\u6f6d","\u8861\u9633","\u5a04\u5e95","\u5e38\u5fb7","\u6c38\u5dde"],"\u8d35\u5dde":["\u6bd5\u8282","\u9075\u4e49","\u94dc\u4ec1","\u5b89\u987a","\u8d35\u9633","\u9ed4\u897f\u5357\u5e03\u4f9d\u65cf\u82d7\u65cf\u81ea\u6cbb\u5dde","\u516d\u76d8\u6c34"],"\u5e7f\u897f":["\u6842\u6797","\u6cb3\u6c60","\u67f3\u5dde","\u767e\u8272","\u8d35\u6e2f","\u68a7\u5dde","\u5357\u5b81","\u94a6\u5dde","\u5317\u6d77","\u9632\u57ce\u6e2f","\u7389\u6797","\u8d3a\u5dde","\u6765\u5bbe","\u5d07\u5de6"],"\u5e7f\u4e1c":["\u5357\u96c4","\u97f6\u5173","\u6e05\u8fdc","\u6885\u5dde","\u8087\u5e86","\u5e7f\u5dde","\u60e0\u5dde","\u6cb3\u6e90","\u6c55\u5934","\u6df1\u5733","\u6c55\u5c3e","\u6e5b\u6c5f","\u9633\u6c5f","\u8302\u540d","\u4f5b\u5188","\u6885\u53bf","\u7535\u767d","\u9ad8\u8981","\u73e0\u6d77","\u4f5b\u5c71","\u6c5f\u95e8","\u4e1c\u839e","\u4e2d\u5c71","\u6f6e\u5dde","\u63ed\u9633","\u4e91\u6d6e"],"\u4e0a\u6d77":["\u4e0a\u6d77"],"\u53f0\u6e7e":["\u53f0\u5317"],"\u56fd\u5916":["\u56fd\u5916"],"\u6d77\u5357":["\u6d77\u53e3","\u4e09\u4e9a","\u5c6f\u660c","\u743c\u6d77","\u510b\u5dde","\u6587\u660c","\u4e07\u5b81","\u4e1c\u65b9","\u6f84\u8fc8","\u5b9a\u5b89","\u4e34\u9ad8","\u767d\u6c99\u9ece\u65cf\u81ea\u6cbb\u53bf\u660c","\u4e50\u4e1c\u9ece\u65cf\u81ea\u6cbb\u53bf","\u9675\u6c34\u9ece\u65cf\u81ea\u6cbb\u53bf","\u4fdd\u4ead\u9ece\u65cf\u82d7\u65cf\u81ea\u6cbb\u53bf","\u743c\u4e2d\u9ece\u65cf\u82d7\u65cf\u81ea\u6cbb\u53bf"]};t.createLib("B.Lib.Location",{bStatic:!0},function(e){var n={};function o(){var e=n.prov,t=n.city;for(_sCity=t.attr("v"),_oCityList=r[a[e.data(0).selectedIndex]],_nSelectedIndex=0,t.data(0).options.length=0,i=0,l=_oCityList.length;i!=l;i++)_nSelectedIndex=-1!=_sCity.indexOf(_oCityList[i])?i:_nSelectedIndex,t.data(0).options.add(new Option(_oCityList[i],_oCityList[i]));t.data(0).selectedIndex=_nSelectedIndex}return{init:function(e){n=e,function t(){var e=n.prov;for(_sProv=e.attr("v"),_nSelectedIndex=0,e.data(0).options.length=0,i=0,l=a.length;i!=l;i++)_nSelectedIndex=-1!=_sProv.indexOf(a[i])?i:_nSelectedIndex,e.data(0).options.add(new Option(a[i],a[i]));e.data(0).selectedIndex=_nSelectedIndex}(),o(),n.prov.on("change",function(){o()})}}})}),$["package"]("biz/admin/lib/safeEncrypt.js",[],function(e){QMWin.createLib("B.Data.safeEncrypt",{bStatic:!0},function(e){var i=new RSAKey;return i.setPublic("CF87D7B4C864F4842F1D337491A48FFF54B73A17300E8E42FA365420393AC0346AE55D8AFAD975DFA175FAF0106CBA81AF1DDE4ACEC284DAC6ED9A0D8FEB1CC070733C58213EFFED46529C54CEA06D774E3CC7E073346AEBD6C66FC973F299EB74738E400B22B1E7CDC54E71AED059D228DFEB5B29C530FF341502AE56DDCFE9","10001"),{passwordEncrypt:function(e,t){if(e&&t){var n=i.encrypt(t+"\n"+e+"\n");return n?hex2b64(n):void 0}}}})}),$["package"]("biz/comm/ctrl/mod.js",["comm/framework/Page/controller/base.js","comm/ctrl/formvalid.js","comm/ctrl/ajaxform.js","biz/comm/lib/valid.js","biz/admin/lib/commdata.js","biz/admin/lib/utils.js"],function(e){var r=QMWin,c=r.lib("AjaxForm"),s=r.lib("B.Data.commdata"),l=r.lib("B.Utils");r.createCtrl("B.Mod",{sSuper:"Page.Mod"},function(t){return{share:function(){return this._moShare=this._moShare||{}},initPage:function(){var e=this.$.$("#pageData");return this._moPage=e.size()?r.evalVal(e.attr("value")):{},this},page:function(){return this._moPage},logOut:function(){r.loc("href","/cgi-bin/loginpage?t=dm_loginpage&s=session_timeout&from=admin")},onpage:function(e,t,n){var i=this,o=i.$;if(n&&(-1!=n.indexOf("session_timeout")||-1!=n.indexOf("sessionTimeout")))return i.logOut();e.oPages&&o.each(e.oPages,function(e){var t=i._moPageFunc[e];t&&t.call(i)}),i._moSubmitPool=[],i.validLibs().length&&i._addToSubmitPool(function(e){return i.valid(o.$(this))?i.onsubmit_()||!0:o.preventDefault(e)&&!1});try{0<i.dom$().find("#leftNavBarWrap").size()&&0<i.$.$("#tLeftPanelListTpl").size()&&i.dom$().find("#leftNavBarWrap").html(i.$.$("#tLeftPanelListTpl").html())}catch(a){}i.onpage_.apply(i,arguments)},ajaxForm:function(r){var s=this,n=this.$;return s.addBlurValid(s.dom$().find("form").find("[valid] input")),s._addToSubmitPool(function(e){var t=!0;r.onbeforesubmit&&(!(t=r.onbeforesubmit())&&n.preventDefault(e));return t}),s._addToSubmitPool(function(e){var t=s.$.$("#tipsTop"),n=s.fGetAjaxSetting(r,s),i=r.onsuccess,o=r.onclienterror,a=r.onerror;return r.onsuccess=null,r.onclienterror=null,r.onerror=null,t.html('\u6b63\u5728\u63d0\u4ea4<span class="ico_loading_dotted"></span>').show(),n.onsuccess=function(){t.hide(),i&&i.apply(this,arguments)},n.onclienterror=function(){t.hide(),o&&o.apply(this,arguments)},n.onerror=function(){t.hide(),a&&a.apply(this,arguments)},c.ajax(e,this,s.fGetAjaxSetting(n,s)),!0}),s},ajax:function(e){var t=this.$.$("#tipsTop"),n=this.fGetAjaxSetting(e,this),i=e.onsuccess,o=e.onclienterror,a=e.onerror;return n.nTimeout=e.nTimeout||3e4,e.onsuccess=null,e.onclienterror=null,e.onerror=null,-1!=n.sUrl.indexOf("/cgi-bin/bizmail_domain?")&&-1!=n.sUrl.indexOf("&action=add_pending&")?t.html('\u7cfb\u7edf\u6b63\u5728\u6dfb\u52a0\u57df\u540d\u8bbe\u7f6e\uff0c\u8bf7\u7a0d\u7b49<span class="ico_loading_dotted"></span>').show():!0!==e.silent&&t.html('\u6b63\u5728\u52a0\u8f7d<span class="ico_loading_dotted"></span>').show(),n.onsuccess=function(){t.hide(),i&&i.apply(this,arguments)},n.onclienterror=function(){t.hide(),o&&o.apply(this,arguments)},n.onerror=function(){t.hide(),a?a.apply(this,arguments):o&&o.apply(this,arguments)},r.ajax(n),this},ajaxPromise:function(n){var i=this,o=this.$;return new Promise(function(e,t){i.ajax(o.extend(n,{onsuccess:function(){e(arguments)},onclienterror:function(){t(arguments)},onerror:function(){t(arguments)}}))})},addBlurValid:function(e){var t=this,n=this.$;e.addEvent("blur",function(e){n.stopPropagation(e),t._moValid.valid(n.$(n.$(this).parents("[valid]").data(0)))})},valid:function(e){return this.valid_(e)},valid_:function(e){return this._moValid.valid(e.find("[valid]"))},initUserData:function(){},onpage_:function(){try{this.navigate(),this.autofocus()}catch(e){}},init_:function(e){this.superEx_(t,"init_",[e])},initMod_:function(){this._initPost()._initValid()._initPages().initUserData()},_initPost:function(){var t=this;return t._mfPostCallback=function(e){e.retcode,e.errmsg,e.action;"0"!=e.retcode?t.postError(e):t.postSuccess(e)},t._mfFrameLoadCallback=function(e){t.iframeLoad(e)},t},_initValid:function(){var n=this,i=n.$,e=n.validLibs();return e.length&&(n._moValid=i.ctrl("FormValid"),i.each(e,function(e){var t=i.lib(e.name);t&&n._moValid.add(t.valids())})),n},_initPages:function(){var n=this,i=n.$,e=n.pageLibs();return n._moPageFunc={},e.length&&i.each(e,function(e){var t=i.lib(e.name);i.extend(n._moPageFunc,t.pages())}),n},_addToSubmitPool:function(e){var t=this._moSubmitPool;t.push(e),this.dom$().find("form").on("submit",function(){for(var e=0;e<t.length&&t[e].apply(this,arguments);e++);})},autofocus:function(){try{this.dom$().find("input[autofocus='autofocus']").data(0).focus()}catch(e){}},navigate:function(){var e=this.$;if(_sHash=e.loc("hash"),_sTop="",_sLeft="",s.isQyUser())var t=[["#mbr/group","toolbox",""],["#mbr","mbr",""],["#company","company","company"],["#domain/manage","company","domain_manage"],["#domain/dnspod_detail","company","domain_manage"],["#domain/getGivenDomain","company","domain_manage"],["#onlineorder/domainSuccess","company","domain_manage"],["#onlineorder/dpsetmx","company","domain_manage"],["#onlineorder/dnspodauth","company","domain_manage"],["#onlineorder/dpcncheck","company","domain_manage"],["#onlineorder/confirm","company","mailbox_config"],["#onlineorder/paying","company","mailbox_config"],["#onlineorder/order","company","mailbox_config"],["#onlineorder","company","mailbox_config"],["#admin/orderEntry","company","order_entry"],["#admin/order","company","mailbox_config"],["#admin/fillInvoiceSucc","company","mailbox_config"],["#admin/modifyInvoice","company","mailbox_config"],["#admin/invoice","company","mailbox_config"],["#admin/fillCtr","company","mailbox_config"],["#admin/getCtrDetail","company","mailbox_config"],["#admin/applyPaperCtr","company","mailbox_config"],["#admin/ctrList","company","mailbox_config"],["#admin/expandGoPaying","company","mailbox_config"],["#admin/expandPaying","company","mailbox_config"],["#admin/pay","company","mailbox_config"],["#admin/getCommInvoice","company","mailbox_config"],["#admin/getSpecialInvoice","company","mailbox_config"],["#admin/modifySpecialInvoice","company","mailbox_config"],["#admin/modifyCommInvoice","company","mailbox_config"],["#admin/DetailInvoice","company","mailbox_config"],["#admin/ExpandCapacity","company","mailbox_config"],["#admin/offLineSubmit","company","mailbox_config"],["#admin/checkRemitInfo","company","mailbox_config"],["#admin/fillRemitterInfo","company","mailbox_config"],["#admin/getRemitterInfo","company","mailbox_config"],["#admin/noprofitApply","company","company"],["#admin/renewStep1","company","mailbox_config"],["#admin/renewStep2","company","mailbox_config"],["#admin/renewPaying","company","mailbox_config"],["#admin/renewGoPaying","company","mailbox_config"],["#admin/renewPaying","company","mailbox_config"],["#admin/paySuccess","company","mailbox_config"],["#admin/payFail","company","mailbox_config"],["#admin/renew","company","mailbox_config"],["#admin/payFail","company","mailbox_config"],["#admin/payFail","company","mailbox_config"],["#toolbox","toolbox",""],["#dnsDomain/renewConfirm","company","mailbox_config"],["#dnsDomain/gopaying","company","mailbox_config"],["#dnsDomain/orderfail","company","mailbox_config"],["#dnsDomain/ordersuccess","company","mailbox_config"],["#registerDomain/selectDomain","company","domain_manage"],["#registerDomain/renewConfirm","company","domain_manage"],["#registerDomain/gopaying","company","domain_manage"],["#registerDomain/orderfail","company","domain_manage"],["#registerDomain/ordersuccess","company","domain_manage"],["#setting/ownerInfo","company","company"],["#setting/inviteFrn","company","company"],["#setting/qyaddr","company","address_manage"],["#setting/addr","company","setting_addr"],["#setting/owner","company","setting_owner"],["#setting/mailboxEntry","company","mailbox_config"],["#setting/mailboxConfig","company","mailbox_config"],["#setting/other","toolbox","other"],["#setting/companyInfo","company","company"],["#setting/clientInfoManage","company","custom_info_manage"],["#setting/versionCompare","company","mailbox_config"],["#setting/closeExmail","company","mailbox_config"],["#admin/passwd","company","setting_owner"],["#admin","company","admin_privilege"],["#domain","domain_manage","domain_manage"],["#setting/bind2phone","company","setting_owner"],["#setting/bind2wx","company","setting_owner"],["#setting/changeWx","company","setting_owner"],["#syslog/date","syslog","syslog_date"],["#syslog/mail","syslog","syslog_mail"],["#syslog/login","syslog","syslog_login"],["#syslog/operlog","syslog","syslog_operlog"],["#syslog/batchjob","syslog","syslog_batchjob"],["#syslog/infolist/detail","syslog","syslog_infolist"],["#syslog/infolist","syslog","syslog_infolist"],["#syslog/promotion","syslog","syslog_infolist"],["#syslog/statistic","syslog","syslog_infolist"],["#setting/more","toolbox","setting_more"],["#spam/black","toolbox","blacklist"],["#spam/white","toolbox","whitelist"],["#spam/subfilter","toolbox",""],["#spam/outDomainLimit","toolbox",""],["#toolbox/import_crtx","mbr",""],["#toolbox","toolbox",""],["#certificate","company","company"],["#viptool/openkit","toolbox",""],["#viptool/bind_wxqy","toolbox",""],["#viptool/reg_rtx","toolbox",""],["#viptool","toolbox",""],["#synrtx","toolbox",""],["#mailBackup","toolbox",""],["#mailPigeonhole","toolbox",""],["#mailApproval","toolbox",""],["#mailAuthority","toolbox",""],["#mailLimit","toolbox",""],["#onlinesell/confirmorder","",""],["#onlinesell/orderverify","",""],["#onlinesell/paysuccess","",""],["#onlinesell/successpay","",""],["#onlinesell/payfailed","",""],["#onlinesell/payorder","",""],["#onlinesell/refund/submit","company","company"],["#onlinesell/refund/success","company","company"],["#onlinesell/refund/failed","company","company"],["#onlinesell/refund","company","company"],["#onlinesell","",""],["#compose/bsm/auth","toolbox",""],["#compose/mail/list","toolbox",""],["#compose/mail/compose","toolbox",""],["#compose/mail","toolbox",""],["#compose/notice","toolbox",""],["#compose/send","toolbox",""],["#entdisk","toolbox",""],["#mailboxTrans","toolbox",""],["#setting/outerLogin","toolbox",""],["#qqlist","toolbox",""],["#loginpage","toolbox",""],["#crm","company","crm"],["#premium","portal_premium",""],["#setting/welcome","toolbox",""],["#compose/welcome/compose","toolbox",""],["#","today",""],["","today",""]];else t=[["#mbr","mbr",""],["#company","company","company"],["#domain/manage","company","domain_manage"],["#domain/dnspod_detail","company","domain_manage"],["#domain/getGivenDomain","company","domain_manage"],["#onlineorder/domainSuccess","company","domain_manage"],["#onlineorder/dpsetmx","company","domain_manage"],["#onlineorder/dnspodauth","company","domain_manage"],["#onlineorder/dpcncheck","company","domain_manage"],["#onlineorder/confirm","company","order_manage"],["#onlineorder/paying","company","order_manage"],["#onlineorder/order","company","order_manage"],["#onlineorder","company","order_manage"],["#admin/order","company","order_manage"],["#admin/fillInvoiceSucc","company","order_manage"],["#admin/modifyInvoice","company","order_manage"],["#admin/invoice","company","order_manage"],["#admin/fillCtr","company","order_manage"],["#admin/getCtrDetail","company","order_manage"],["#admin/applyPaperCtr","company","order_manage"],["#admin/ctrList","company","order_manage"],["#admin/renew","company","renew_manage"],["#admin/renewPaying","company","renew_manage"],["#admin/expandGoPaying","company","renew_manage"],["#admin/expandPaying","company","renew_manage"],["#admin/pay","company","renew_manage"],["#admin/expandGoPaying","company","order_manage"],["#admin/expandPaying","company","order_manage"],["#admin/pay","company","order_manage"],["#admin/getCommInvoice","company","order_manage"],["#admin/getSpecialInvoice","company","order_manage"],["#admin/modifySpecialInvoice","company","order_manage"],["#admin/modifyCommInvoice","company","order_manage"],["#admin/DetailInvoice","company","order_manage"],["#admin/ExpandCapacity","company","renew_manage"],["#admin/offLineSubmit","company","renew_manage"],["#admin/checkRemitInfo","company","renew_manage"],["#admin/fillRemitterInfo","company","order_manage"],["#admin/getRemitterInfo","company","order_manage"],["#admin/noprofitApply","company","company"],["#admin/renewStep1","company","order_manage"],["#admin/renewStep2","company","order_manage"],["#admin/renewPaying","company","order_manage"],["#admin/renewGoPaying","company","order_manage"],["#admin/renewPaying","company","order_manage"],["#admin/paySuccess","company","order_manage"],["#admin/payFail","company","order_manage"],["#dnsDomain/renewConfirm","company","renew_manage"],["#dnsDomain/gopaying","company","renew_manage"],["#dnsDomain/orderfail","company","renew_manage"],["#dnsDomain/ordersuccess","company","renew_manage"],["#registerDomain/selectDomain","company","domain_manage"],["#registerDomain/renewConfirm","company","domain_manage"],["#registerDomain/gopaying","company","domain_manage"],["#registerDomain/orderfail","company","domain_manage"],["#registerDomain/ordersuccess","company","domain_manage"],["#setting/ownerInfo","company","company"],["#setting/inviteFrn","company","company"],["#setting/qyaddr","company","address_manage"],["#setting/addr","company","setting_addr"],["#setting/owner","company","setting_owner"],["#setting/mailboxConfig","company","mailbox_config"],["#setting/other","company","other"],["#setting/companyInfo","company","company"],["#setting/clientInfoManage","company","custom_info_manage"],["#admin/passwd","company","setting_owner"],["#admin","company","admin_privilege"],["#domain","domain_manage","domain_manage"],["#setting/bind2phone","company","setting_owner"],["#setting/bind2wx","company","setting_owner"],["#setting/changeWx","company","setting_owner"],["#syslog/date","syslog","syslog_date"],["#syslog/mail","syslog","syslog_mail"],["#syslog/login","syslog","syslog_login"],["#syslog/operlog","syslog","syslog_operlog"],["#syslog/batchjob","syslog","syslog_batchjob"],["#syslog/infolist/detail","syslog","syslog_infolist"],["#syslog/infolist","syslog","syslog_infolist"],["#syslog/promotion","syslog","syslog_infolist"],["#syslog/statistic","syslog","syslog_infolist"],["#setting/more","toolbox","setting_more"],["#spam/black","toolbox","blacklist"],["#spam/white","toolbox","whitelist"],["#spam/outDomainLimit","toolbox",""],["#toolbox/import_crtx","mbr",""],["#toolbox","toolbox",""],["#certificate","company","company"],["#viptool/openkit","toolbox",""],["#viptool/bind_wxqy","viptool",""],["#viptool/reg_rtx","toolbox",""],["#viptool","viptool",""],["#synrtx","toolbox",""],["#mailBackup","viptool",""],["#mailApproval","viptool",""],["#mailAuthority","viptool",""],["#onlinesell/confirmorder","",""],["#onlinesell/orderverify","",""],["#onlinesell/paysuccess","",""],["#onlinesell/successpay","",""],["#onlinesell/payfailed","",""],["#onlinesell/payorder","",""],["#onlinesell/refund/submit","company","company"],["#onlinesell/refund/success","company","company"],["#onlinesell/refund/failed","company","company"],["#onlinesell/refund","company","company"],["#onlinesell","",""],["#compose/bsm/auth","toolbox",""],["#compose/mail/list","toolbox",""],["#compose/mail/compose","toolbox",""],["#compose/mail","toolbox",""],["#compose/notice","toolbox",""],["#compose/send","toolbox",""],["#entdisk","toolbox",""],["#mailboxTrans","toolbox",""],["#setting/outerLogin","toolbox",""],["#qqlist","toolbox",""],["#loginpage","toolbox",""],["#crm","company","crm"],["#premium","portal_premium",""],["#setting/welcome","toolbox",""],["#compose/welcome/compose","toolbox",""],["#","today",""],["","today",""]];for(var n=0;n<t.length;n++)if(-1!=_sHash.indexOf(t[n][0])){_sTop=t[n][1],_sLeft=t[n][2];break}e.$("[un='topNavBar']").find("a").rmClass("on"),e.$("[un='topNavBar']").find("a[un='"+_sTop+"']").addClass("on"),this.dom$().find("[un='leftNavBar']").find("a").rmClass("selected"),this.dom$().find("[un='leftNavBar']").find("a[un='"+_sLeft+"']").addClass("selected");try{if(s.isQyUser()){var i=jQuery("#topNavLine"),o=jQuery("#navBar").find("li");function a(e){if(0==e.length)return!1;var t=e.position().left+(e.width()-i.width())/2;l.supportTranslate3d()&&l.supportTransform()?i.css(l.supportTransform(),"translate3d("+t+"px, 0, 0)"):i.css("left",t),jQuery(".qy_menu_item_curr").removeClass("qy_menu_item_curr"),e.addClass("qy_menu_item_curr"),i.is(":hidden")&&i.show()}a(jQuery("#navBar a[un='"+_sTop+"']").parents("li")),o.on("click",function(){a(jQuery(this))})}}catch(r){}}}})}),$["package"]("biz/admin/ctrl/aliasvalid.js",[],function(e){var t=QMWin,_=(t.ctor_(),0),h=[{sMsg:"\u53ea\u80fd\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u70b9(.)\u3001\u51cf\u53f7(-)\u6216\u4e0b\u5212\u7ebf(_)\u7ec4\u6210",check:function(e){return/^[0-9a-zA-Z\.\-_]+$/.test(e)}},{sMsg:"\u5e10\u53f7\u957f\u5ea6\u4e3a 4-32 \u4e2a\u5b57\u7b26",check:function(e){return 4<=e.length&&e.length<=32}},{sMsg:"\u70b9(.)\u3001\u51cf\u53f7(-)\u3001\u4e0b\u5212\u7ebf(_)\u4e0d\u80fd\u653e\u5728\u5f00\u5934\u6216\u7ed3\u5c3e",check:function(e){return!/(^[\.\-_])/.test(e)&&!/([\.\-_]$)/.test(e)}},{sMsg:"\u70b9(.)\u3001\u51cf\u53f7(-)\u3001\u4e0b\u5212\u7ebf(_)\u4e0d\u80fd\u8fde\u7eed\u51fa\u73b0",check:function(e){return!/[\.\-_][\.\-_]/.test(e)}}],g=[{sMsg:"\u53ea\u80fd\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u70b9(.)\u3001\u51cf\u53f7(-)\u6216\u4e0b\u5212\u7ebf(_)\u7ec4\u6210",check:function(e){return/^[0-9a-zA-Z\.\-_]+$/.test(e)}},{sMsg:"\u5e10\u53f7\u957f\u5ea6\u4e3a 1-32 \u4e2a\u5b57\u7b26",check:function(e){return 1<=e.length&&e.length<=32}},{sMsg:"\u70b9(.)\u3001\u51cf\u53f7(-)\u3001\u4e0b\u5212\u7ebf(_)\u4e0d\u80fd\u653e\u5728\u5f00\u5934\u6216\u7ed3\u5c3e",check:function(e){return!/(^[\.\-_])/.test(e)&&!/([\.\-_]$)/.test(e)}},{sMsg:"\u70b9(.)\u3001\u51cf\u53f7(-)\u3001\u4e0b\u5212\u7ebf(_)\u4e0d\u80fd\u8fde\u7eed\u51fa\u73b0",check:function(e){return!/[\.\-_][\.\-_]/.test(e)}}],v=['<div class="rules_check_relative">','<div class="rules_check_wrap" un="alaisCheckWrap" style="_width:300px;">','<span class="rules_check_arrow"><span class="arrow_l"></span><span class="arrow_r"></span></span>',"<h3>\u5e10\u53f7\u9700\u6ee1\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a</h3>","<ul>","</ul>","</div>","</div>"].join(""),y=['<iframe frameborder="0" scrolling="no" style="position:absolute;top:0;left:0;width:100%;height:100px;z-index:-1;"></iframe>'];t.createCtrl("B.AliasValid",{bStatic:!0},function(e){return{init_:function(e){var i=this.$,o=i.$(e.sAlias),t=i.$("[un='alaisCheckWrap']");0!=t.size()&&t.remove(),i.$("body").append(v);for(var n=i.$("[un='alaisCheckWrap'] ul"),a=f(),r=0;r<a.length;r++){var s='<li><span class="icon_rules_check"></span>'+a[r].sMsg+"</li>";n.append(s)}var c=i.$("[un='alaisCheckWrap']"),l=c.find("li");i.isBrowser("ie6")&&c.append(y),c.hide(),m();var u=setInterval(function p(){try{0==o.offset().left&&clearInterval(u)}catch(e){clearInterval(u)}m()},500);function f(){return e.sMode&&"user"!=e.sMode?h:g}function m(){var e=o.offset();c.css("left",e.left+o.width()+40+"px"),c.css("top",e.top-(60-o.height()/2)+"px")}function d(e){l.rmClass("rules_check_pass").rmClass("rules_check_fail"),o.parent("div").rmClass("rules_check_error");var t=f();if(""!=e)for(var n=0;n<t.length;n++)0===_?t[n].check(e)&&(i.$(l.data(n)).addClass("rules_check_pass"),0):t[n].check(e)?(i.$(l.data(n)).addClass("rules_check_pass"),0):(i.$(l.data(n)).addClass("rules_check_fail"),o.parent("div").addClass("rules_check_error"))}o.addEvent("focus",function(){c.show(),d(i.$(this).attr("value"))}),o.addEvent("blur",function(){c.hide(),0===_&&""!=i.$(this).attr("value")?_=1:""==i.$(this).attr("value")&&(_=0),d(i.$(this).attr("value"))}),o.addEvent("keyup",function(){d(i.$(this).attr("value"))}),o.addEvent("paste",function(){var e=this;setTimeout(function(){d(i.$(e).attr("value"))},500)})}}})}),$["package"]("biz/admin/ctrl/passwordvalid.js",["comm/ctrl/md5.js"],function(e){var t=QMWin;t.ctor_();_fHexMD5=t.lib("hexMD5");var _=null,s=null,c=null,h=0;t.ajax({sUrl:"/qy_mng_logic/pwdrule/com",onsuccess:function(e){var t=JSON.parse(e);t&&t.data&&0<t.data.length&&(s=t.data,$.$("input[un='comm_pwd']").attr("value",s.join(";")))},onclienterror:function(e){return!0}});var g,v=!1;if(window.getTop&&-1==location.href.indexOf("t=biz_rf_home")){for(var n,i=getTop().getUserAlias(),o=i.length,a=0;a<o;a++)if(-1!=i[a].indexOf("@fangdd.com")||-1!=i[a].indexOf("@fangdd.com.cn")){v=!0;break}$.$("input[name='alias']").attr("value")&&1<$.$("input[name='alias']").attr("value").split("@").length&&(-1==(n=$.$("input[name='alias']").attr("value")).indexOf("@fangdd.com")&&-1==n.indexOf("@fangdd.com.cn")||(v=!0))}g=v?[{sMsg:"\u5305\u542b\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u548c\u6570\u5b57\u4e2d\u7684\u4e24\u79cd",check:function(e){return/[a-z]/.test(e)&&/[A-Z]/.test(e)||/[a-z]/.test(e)&&/[0-9]/.test(e)||/[A-Z]/.test(e)&&/[0-9]/.test(e)}},{sMsg:"\u4e0d\u5305\u542b3\u4e2a\u53ca\u4ee5\u4e0a\u8fde\u7eed\u6570\u5b57",check:function(e){for(var t=!0,n=["012","123","234","345","456","567","678","789"],i=0;i<8;i++)if(-1!==e.indexOf(n[i])){t=!1;break}return t}},{sMsg:"\u5bc6\u7801\u957f\u5ea6\u4e3a 8-32 \u4e2a\u5b57\u7b26",check:function(e){return 8<=e.length&&e.length<=32}},{sMsg:"\u5305\u542b\u7279\u6b8a\u5b57\u7b26",check:function(e){return new RegExp("[\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\+\\`\\-\\=\\[\\]\\\\\\{ \\}\\|\\;\\'\\:\\\"\\,\\.\\/\\<\\>\\?]").test(e)}}]:[{sMsg:"\u540c\u65f6\u5305\u542b\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u548c\u6570\u5b57",check:function(e){return/[a-z]/.test(e)&&/[A-Z]/.test(e)&&/[0-9]/.test(e)}},{sMsg:"\u5bc6\u7801\u957f\u5ea6\u4e3a 6-32 \u4e2a\u5b57\u7b26",check:function(e){return 6<=e.length&&e.length<=32}},{sMsg:"\u4e0d\u5305\u542b\u5e10\u6237\u4fe1\u606f\u4e0e\u7a7a\u683c",check:function(e){if(e=e.toLowerCase(),!_)return!0;var t=_().length<3||-1==e.indexOf(_().split("@")[0]);try{var n=$.$("select[name='domainname']").attr("value");if(n||(n=$.$("input[name='domain']").attr("value")),n||(n=$.$("input[name='alias']").attr("value")&&$.$("input[name='alias']").attr("value").split("@")[1]),!n&&window.getTop&&-1==location.href.indexOf("t=biz_rf_home")&&(n=getTop().S("useraddr")&&getTop().S("useraddr").innerHTML.split("@")[1]),t=-1==e.toLowerCase().indexOf(n)&&t,n&&(t=-1==e.toLowerCase().indexOf(n.split(".")[0])&&t),!n&&window.QMWin&&0<=location.href.indexOf("t=biz_rf_home")&&0<$.$(".weworkIndexDomainItem").data().length)for(var i=0;i<$.$(".weworkIndexDomainItem").data().length;i++)t=($.$(".weworkIndexDomainItem").data(i).value.length<3||-1==e.toLowerCase().indexOf($.$(".weworkIndexDomainItem").data(i).value))&&t,t=($.$(".weworkIndexDomainItem").data(i).value.split(".")[0].length<3||-1==e.toLowerCase().indexOf($.$(".weworkIndexDomainItem").data(i).value.split(".")[0]))&&t}catch(o){}return t=-1==e.indexOf(" ")&&t}},{sMsg:"\u4e0d\u662f\u5e38\u89c1\u5bc6\u7801",check:function(e){var t,n=!0,i="";null==s&&(s=$.$("input[un='comm_pwd']").attr("value"),s=(s=$.trim(s)).split(";")),t=s.length;for(var o=0;o<t;o++)if(s[o]&&-1<e.toLowerCase().indexOf(s[o].toLowerCase())){n=!1,i=s[o];break}var a=$.$(".rules_check_wrap li .rules_check_common").last();if(a&&i?a.html("\uff08\u5305\u542b "+i+"\uff09"):a.html(""),1==n&&$.$("input[un='comm_pwd_md5']").attr("value")){var r=_fHexMD5.hexMD5(e);null==c&&(c=$.$("input[un='comm_pwd_md5']").attr("value"),c=(c=$.trim(c)).split(";")),c.length;for(o=0;o<t;o++)if(c[o]==r){n=!1;break}}return n}}];var y=['<div class="rules_check_relative">','<div class="rules_check_wrap" un="pwdCheckWrap" style="_width:250px;">','<span class="rules_check_arrow"><span class="arrow_l"></span><span class="arrow_r"></span></span>',"<h3>\u5bc6\u7801\u9700\u6ee1\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a</h3>","<ul>","</ul>","</div>","</div>"].join(""),b=['<iframe frameborder="0" scrolling="no" style="position:absolute;top:0;left:0;width:200px;height:100px;z-index:-1;"></iframe>'];t.createCtrl("B.PasswordValid",{bStatic:!0},function(e){return{init_:function(e){var a=this.$;try{if((-1!=location.hash.indexOf("#recovery/recover/")||window.getTop&&-1!=location.href.indexOf("t=bizmail_usercpwd"))&&a.$("input[name='alias']").attr("value")&&1<a.$("input[name='alias']").attr("value").split("@").length){var t=a.$("input[name='alias']").attr("value");-1==t.indexOf("@fangdd.com")&&-1==t.indexOf("@fangdd.com.cn")||(g=[{sMsg:"\u5305\u542b\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u548c\u6570\u5b57\u4e2d\u7684\u4e24\u79cd",check:function(e){return/[a-z]/.test(e)&&/[A-Z]/.test(e)||/[a-z]/.test(e)&&/[0-9]/.test(e)||/[A-Z]/.test(e)&&/[0-9]/.test(e)}},{sMsg:"\u4e0d\u5305\u542b3\u4e2a\u53ca\u4ee5\u4e0a\u8fde\u7eed\u6570\u5b57",check:function(e){for(var t=!0,n=["012","123","234","345","456","567","678","789"],i=0;i<8;i++)if(-1!==e.indexOf(n[i])){t=!1;break}return t}},{sMsg:"\u5bc6\u7801\u957f\u5ea6\u4e3a 8-32 \u4e2a\u5b57\u7b26",check:function(e){return 8<=e.length&&e.length<=32}},{sMsg:"\u5305\u542b\u7279\u6b8a\u5b57\u7b26",check:function(e){return new RegExp("[\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\+\\`\\-\\=\\[\\]\\\\\\{ \\}\\|\\;\\'\\:\\\"\\,\\.\\/\\<\\>\\?]").test(e)}}])}}catch(p){}var r=a.$(e.sPassword);_=e.fGetAlias;var n=a.$("[un='pwdCheckWrap']");0!=n.size()&&n.remove(),a.$("body").append(y);for(var i=a.$("[un='pwdCheckWrap'] ul"),o=0;o<g.length;o++){var s='<li><span class="icon_rules_check"></span>'+g[o].sMsg+'<span class="rules_check_common"></span></li>';i.append(s)}var c=a.$("[un='pwdCheckWrap']"),l=c.find("li");a.isBrowser("ie6")&&c.append(b),c.hide(),m();var u=setInterval(f,500);function f(){try{0==r.offset().left&&clearInterval(u)}catch(p){clearInterval(u)}m()}function m(){var e=r.offset();c.css("left",e.left+r.width()+20+"px"),c.css("top",e.top-(72-r.height()/2)+"px")}function d(e){l.rmClass("rules_check_pass").rmClass("rules_check_fail"),r.parent("div").rmClass("rules_check_error");var t=0;if(""!==e){c.show();var n,i=!0;n=v?g.length:g.length-1;for(var o=0;o<n;o++)g[o].check(e)?(a.$(l.data(o)).addClass("rules_check_pass"),t++):(i=!1,a.$(l.data(o)).addClass("rules_check_fail"),r.parent("div").addClass("rules_check_error"));i?g[o].check(e)?(a.$(l.data(o)).addClass("rules_check_pass"),t++):(a.$(l.data(o)).addClass("rules_check_fail"),r.parent("div").addClass("rules_check_error")):0!==h&&g[o].check(e)&&a.$(l.data(o)).addClass("rules_check_fail"),_bAllChecked=t==g.length}else c.hide()}r.addEvent("focus",function(){c.css({zIndex:"10"}),clearInterval(u),m(),u=setInterval(f,500),d(a.$(this).attr("value"))}),r.addEvent("blur",function(){0===h&&""!=a.$(this).attr("value")?h=1:""==a.$(this).attr("value")&&(h=0),d(a.$(this).attr("value")),c.hide()}),r.addEvent("keyup",function(){d(a.$(this).attr("value"))}),r.addEvent("paste",function(){var e=this;setTimeout(function(){d(a.$(e).attr("value"))},500)})}}})}),$["package"]("biz/portal/lib/validsurvey.js",["comm/ctrl/formvalid.js"],function(e){var t=QMWin;t.ctor_();t.createLib("B.ValidSurvey",{bStatic:!0},function(){return{valids:function(){return{func:{radio:function(e,t){var n=!1;return e.find("input").each(function(e){n=n||e.checked}),n?[0]:[-1,{msg:t}]},multiCheck:function(e,t,n,i){var o=0,a=parseInt(i),r=parseInt(n);return e.find("input").each(function(e){e.checked&&o++}),a<o?[-1,{msg:"\u8bf7\u6700\u591a\u9009\u62e9\u4e0d\u8d85\u8fc7"+a+"\u9879"}]:o<r?[-1,{msg:"\u8bf7\u81f3\u5c11\u9009\u62e9"+r+"\u9879"}]:[0]}}}}}})}),$["package"]("biz/portal/ctrl/index.js",["biz/comm/ctrl/mod.js"],function(e){var t=QMWin;t.ctor_();t.createCtrl("B.Portal.Index",{sSuper:"B.Mod",bStatic:!0},function(t){return{validLibs:function(){return[{name:"FormValid.Default"}]},rule:function(){return{click:{test:{}}}},route:function(){return[null,[["survey",{sMod:"B.Portal.Survey",sPkg:"biz/portal/ctrl/survey.js"}],["confirmbind",{sMod:"B.Portal.Confirmbind",sPkg:"biz/portal/ctrl/confirmbind.js"}],["recovery",{sMod:"B.Portal.Recovery",sPkg:"biz/portal/ctrl/recovery.js"}],["premium",{sMod:"B.Portal.Premium",sPkg:"biz/portal/ctrl/premium.js"}],["signup",{sMod:"B.Portal.Signup",sPkg:"biz/portal/ctrl/signup.js"}],["meeting",{sMod:"B.Portal.Meeting",sPkg:"biz/portal/ctrl/meeting.js"}],["",{sUrl:"/cgi-bin/bizmail_portal?t=biz_rf_signup&osslog=signup&from=index"}]]]},actions:function(){return{}},events:function(){return{}},init_:function(e){this.superEx_(t,"init_",[e])}}})}),$["package"]("biz/portal/ctrl/signup.js",["biz/comm/ctrl/mod.js","biz/comm/lib/commevent.js","biz/comm/lib/location.js","biz/admin/ctrl/aliasvalid.js","biz/admin/ctrl/passwordvalid.js"],function(e){var t=QMWin,i=(t.ctor_(),t.lib("B.Lib.Location")),o="exmail.qq.com";t.createCtrl("B.Portal.Signup",{sSuper:"B.Mod",bStatic:!0},function(t){return{validLibs:function(){return[{name:"FormValid.Default"},{name:"B.Valid"}]},eventLibs:function(){return[{name:"B.Event.Comm"}]},pageLibs:function(){return[]},rule:function(){return{click:{sendSms:{sContext:"trial"},authSms:{sContext:"trial"}},keyup:{showFoxKU:{sContext:"trial"},sendSmsKU:{sContext:"trial"},authSmsKU:{sContext:"trial"},premiumCheck:{sContent:"trial"},freeCheck:{sContent:"trial"}}}},route:function(){$.sid();return["signup",[["free/active/{email}[,{key}]",{sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_signup&tt=freeActive&email={email}&key={key}",sAction:"freeActive"}],["free/fin/{alias},{email}",{sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_signup&tt=freeFin&alias={alias}&email={email}",sAction:"freeFin"}],["free[/{args}]",{sUrl:"/cgi-bin/bizmail_portal?t=biz_rf_signup&osslog=signup_free_begin&tt=free&{args}",sAction:"freeSignup"}],["premium/fin",{sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_signup&tt=premiumFin"}],["premium[,{ip}]",{sUrl:"/cgi-bin/bizmail_portal?action=get_location&t=biz_rf_signup&tt=premium&ip={ip}&osslog=signup_premium_begin",sAction:"premiumSingup"}],["trial/auth,{mobile}",{sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_reg_trial&tt=trialAuth&mobile={mobile}"}],["trial/account,{mobile}",{sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_reg_trial&tt=trialAccount&mobile={mobile}&smscode={smscode}",sAction:"trialAccount"}],["trial/fin,{mobile}",{sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_reg_trial&tt=trialFin&mobile={mobile}"}],["trial",{sUrl:"/cgi-bin/bizmail_portal?t=biz_rf_reg_trial&tt=trial&osslog=signup_trial_begin",sAction:"trial"}],["[{args}]",{sUrl:"/cgi-bin/bizmail_portal?t=biz_rf_signup&osslog=signup&{args}"}]]]},actions:function(){return{premiumSingup:function(){var n=this;i.init({prov:$.$("select[un='prov']"),city:$.$("select[un='city']")}),n.autofocus(),n.ajaxForm({onsuccess:function(e){n.hash("signup/premium/fin")},onclienterror:function(e,t){n.showErr(t)}})},trial:function(){this.$;this.dom$().find("[ck='changeVCImage']").fireEvent("click"),this.addBlurValid(this.dom$().find("[valid] input"))},trialAccount:function(e){var n=this,t=e;$.ctrl("B.PasswordValid",{sPassword:"input[un='passwd']",fGetAlias:function(){return $.$("[name='alias']").attr("value")}}),n.ajaxForm({onsuccess:function(){n.hash("signup/trial/fin,"+t)},onclienterror:function(e,t){n.showErr(t||"\u6ce8\u518c\u5931\u8d25")}})},freeSignup:function(){this.dom$().find("[ck='changeVCImage']").fireEvent("click"),this._val()},freeActive:function(){var n=this;n.ajaxForm({onsuccess:function(e){o=e.data.passwd,n.hash("signup/free/fin/"+e.data.alias+","+e.data.email)},onclienterror:function(e,t){n.showErr(t||"\u6ce8\u518c\u5931\u8d25")}}),n.dom$().find("[ck='changeVCImage']").fireEvent("click")},freeFin:function(){this.dom$().find("input[name='p']").attr("value",o)}}},events:function(){return{showFoxKU:function(e,t,n){var i=this.$.$(n),o=$.trim(i.find("input[name='mobile']").data(0).value);i.find("[un='fox']").html((o||"\u624b\u673a\u53f7\u7801")+".foxmail.com")},sendSms:function(e,t,n){var i=this,o=(i.$.$(t),i.$.$(n)),a=$.trim(o.find("input[name='mobile']").data(0).value),r=o.find("input[name='verifycode']").data(0).value;i.valid_(o)&&i.ajax({sType:"GET",sUrl:"/cgi-bin/bizmail_portal?t=biz_rf_mgr&action=send_sms&type=1&mobile="+a+"&verifycode="+r,onsuccess:function(){i.hash("signup/trial/auth,"+a)},onclienterror:function(e,t){i.showErr(t||"\u64cd\u4f5c\u5931\u8d25"),o.find("input[name='verifycode']").data(0).value="",o.find("img").attr("src","/cgi-bin/getverifyimage?aid=23000101&"+$.random())}})},authSms:function(e,t,n){var i=this,o=i.$.$(t),a=i.$.$(n),r="next"==o.attr("un"),s=$.trim(a.find("input[name='mobile']").data(0).value);i.valid_(a)&&(r||(a.find("span[un='success']").hide(),a.find("span[un='error']").hide(),a.find("img[un='loading']").show()),i.ajax({sType:"GET",sUrl:"/cgi-bin/bizmail_portal?t=biz_rf_mgr&action=auth_sms&type=1&mobile="+s,onsuccess:function(){a.find("img[un='loading']").hide(),a.find("span[un='success']").show(),a.find("span[un='error']").hide(),r&&i.hash("signup/trial/account,"+s)},onclienterror:function(e,t){a.find("img[un='loading']").hide(),a.find("span[un='success']").hide(),a.find("span[un='error']").show(),r&&i.showErr(t)}}))},sendSmsKU:function(e,t,n){var i=this.$.$(n);13==e.keyCode&&i.find("[ck='sendSms']").fireEvent("click")},authSmsKU:function(e,t,n){var i=this.$.$(n);13==e.keyCode&&i.find("[ck='authSms']").fireEvent("click")},premiumCheck:function(e,t,n){var i=$.$("form"),o=i.find("input[type='submit']"),a=i.find("input[name='cus_name']").attr("value"),r=i.find("input[name='cus_person']").attr("value"),s=i.find("input[name='cus_tel']").attr("value"),c=i.find("input[name='cus_email']").attr("value");""==a||""==r||""==s||""==c?(o.css({opacity:"0.5",cursor:"default"}),o.attr("disabled",!0)):(o.css({opacity:"1",cursor:"pointer"}),o.attr("disabled",!1))},freeCheck:function(e,t,n){var i=$.$("form[un='freeForm']"),o=i.find("[un='freeSubmit']"),a=i.find("[un='freeUserValue']").attr("value"),r=i.find("[un='freePasswordValue']").attr("value"),s=i.find("[un='freeEmailValue']").attr("value");""==a||""==r||""==s?(o.css({opacity:"0.5",cursor:"default"}),o.attr("disabled",!0)):(o.css({opacity:"1",cursor:"pointer"}),o.attr("disabled",!1))}}},postSuccess:function(e){"signup"==e.action&&this.hash("signup/free/active/"+e.data.email+","+e.data.key,!0)},postError:function(e){"signup"==e.action&&("-201"!=e.retcode&&"-202"!=e.retcode||this.dom$().find("[un='verifycode']").show(),this.showErr(e.errmsg),this.dom$().find("[ck='changeVCImage']").fireEvent("click"))},init_:function(e){this.superEx_(t,"init_",[e])},_val:function(){function s(e,t,n){return e?(t.find("[un='msg_reason']").html(n),t.find("[un='msg_err']").show().find("[un='error_title']").attr("title",n),t.find("[un='msg_ok']").hide(),!1):(t.find("[un='msg_err']").hide(),t.find("[un='msg_ok']").show(),!0)}function r(e,t){var n=!1,i=$.$("[valid='alias']"),o=i.find("input").attr("value"),a="",r=$.lib("B.Valid").valids().func.aliasadmin(i,"\u5e10\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e");return""!=o&&(-1==r[0]?(n=!0,a=r[1].msg):n=!1,n?(s(n,i,a),!1):(e?(a="\u8be5\u5e10\u53f7\u5df2\u7ecf\u5b58\u5728\uff0c\u8bf7\u4f7f\u7528\u5176\u4ed6\u5e10\u53f7",$.ajax({sUrl:"/cgi-bin/bizmail_portal?t=biz_rf_mgr&action=check_alias&ef=js&type=alias&alias="+o+"@biz.mail.qq.com",onsuccess:function(e){s($.evalVal(e).data.exist,i,a)}})):s(n,i,a),!0))}function c(e){var t=!1,n=$.$("[valid='password']"),i=n.find("input[data-type='text']").attr("value"),o=n.find("input[data-type='pwd']"),a="";n.find("input[data-type='text']").css({zIndex:1}),n.find("input[data-type='pwd']").css({zIndex:2}),o.attr("value",i);var r=$.lib("B.Valid").valids().func.passwd($.$("[valid='password']"),"\u5bc6\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",$.$("[valid='alias']").find("input").attr("value"));return""!=i&&(-1==r[0]?(t=!0,a=r[1].msg):t=!1,t?(s(t,$.$("[valid='password']"),a),!1):(s(t,$.$("[valid='password']"),a),!0))}function l(e){var t=$.$("[valid='email']"),n=t.find("input").attr("value");if(""!=n)return s(!/^[\.a-zA-Z0-9_=-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(n),t,"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e");if("submit"==e)t.find("input");return!1}function u(){var e=$.$("[valid='vc']");return s("none"!=e.data(0).style.display&&""===e.find("input").attr("value"),e,"\u8bf7\u586b\u5199\u9a8c\u8bc1\u7801")}$.ctrl("B.AliasValid",{sAlias:"input[name='alias']",sMode:"owner"}),$.ctrl("B.PasswordValid",{sPassword:"input[name='passwd']",fGetAlias:function(){return $.$("[name='alias']").attr("value")}}),$.$("[valid='alias']").find("input").addEvent("blur",function(){r(!0,"blur")}),$.$("[valid='password']").find("input[data-type='text']").addEvent("blur",function(){c("blur")}),$.$("[valid='password']").find("input[data-type='pwd']").addEvent("focus",function(){$.$("input[data-type='pwd']").css({zIndex:1}),$.$("input[data-type='text']").css({zIndex:2}).focus()}),$.$("[un='password_encrypt']").find("input").addEvent("focus",function(){$.$("[un='password']").show().find("input").data(0).focus(),$.$("[un='password_encrypt']").hide()}),$.$("[valid='email']").find("input").addEvent("blur",function(){l("blur")}),$.$("[valid='vc']").find("input").addEvent("blur",function(){u()}),$.$("[valid='check']").find("input").addEvent("click",function(){var e=$.$("[valid='check']");e.find("input").attr("checked")&&s(!1,e,"\u8bf7\u786e\u8ba4\u662f\u5426\u9605\u8bfb\u670d\u52a1\u534f\u8bae")}),$.$("[un='vcChange'], [un='vcImage']").addEvent("click",function(){$.$("[un='vcImage']").attr("src",$.$("[un='vcUrl']").attr("value")+Math.random())}),$.$("form").addEvent("submit",function(e){$.preventDefault(e),function a(){r(!1,"submit");var e,t=c("submit"),n=l("submit"),i=u();t&&n&&i&&(e=function o(){var e=$.$("[valid='check']");return!!e.find("input").attr("checked")||s(!e.find("input").attr("checked"),e,"\u8bf7\u786e\u8ba4\u662f\u5426\u9605\u8bfb\u670d\u52a1\u534f\u8bae")}());return e}()&&this.submit()})}}})}),$["package"]("biz/portal/ctrl/meeting.js",["biz/comm/ctrl/mod.js"],function(e){var t=QMWin;t.ctor_();t.createCtrl("B.Portal.Meeting",{sSuper:"B.Mod",bStatic:!0},function(t){return{validLibs:function(){return[{name:"FormValid.Default"},{name:"B.Valid"}]},rule:function(){return{click:{checkInMeeting:{},sendSms:{}},keyup:{premiumCheck:{sContent:"trial"}}}},route:function(){return["meeting",[["checkIn",{sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_meeting&step=check&tt=meeting",sAction:"meetCheckAction"}],["Succ",{sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_meeting&step=succeed&tt=meeting"}]]]},actions:function(){return{meetCheckAction:function(){$.$("form").addEvent("submit",function(e){$.preventDefault(e)})}}},events:function(){return{premiumCheck:function(e,t,n){var i=$.$("form"),o=i.find("input[type='submit']"),a=$.trim(i.find("input[name='cus_name']").attr("value")),r=$.trim(i.find("input[name='cus_company']").attr("value")),s=$.trim(i.find("input[name='mobile']").attr("value")),c=$.trim(i.find("input[name='smscode']").attr("value")),l=$.trim(i.find("input[name='cus_email']").attr("value"));""==a||""==r||""==s||""==l||""==c?(o.css({opacity:"0.5",cursor:"default"}),o.attr("disabled",!0)):(o.css({opacity:"1",cursor:"pointer"}),o.attr("disabled",!1))},sendSms:function(e,t,n){var i=this,o=i.$.$(t),a=i.$.$(n),r=$.trim(i.$.$("#mobile").attr("value"));i.valid_(a)&&i.ajax({sType:"GET",sUrl:"/cgi-bin/bizmail_portal?t=biz_rf_mgr&action=send_smsex&type=0&mobile="+r,onsuccess:function(){i.showMsg("\u83b7\u53d6\u9a8c\u8bc1\u7801\u6210\u529f"),o.html("\u91cd\u65b0\u83b7\u53d6\u9a8c\u8bc1\u7801")},onclienterror:function(e,t){i.showErr("\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25")},onerror:function(e,t){i.showErr("\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25")}})},checkInMeeting:function(e,t,n){var i=this;_oForm$=$.$("form"),_oSubmit=_oForm$.find("input[type='submit']"),_sNameVal=$.trim(_oForm$.find("input[name='cus_name']").attr("value")),_sCompanyVal=$.trim(_oForm$.find("input[name='cus_company']").attr("value")),_sPhoneVal=$.trim(_oForm$.find("input[name='mobile']").attr("value")),_sSmsCode=$.trim(_oForm$.find("input[name='smscode']").attr("value")),_sEmailVal=$.trim(_oForm$.find("input[name='cus_email']").attr("value"));!1!=(""!=_sNameVal&&""!=_sCompanyVal&&""!=_sPhoneVal&&""!=_sEmailVal&&""!=_sSmsCode)&&i.ajax({sType:"POST",sUrl:"/cgi-bin/bizmail_apply?t=biz_rf_mgr&ef=js",vData:["&action=","apply_meeting","&cus_name=",encodeURIComponent(_sNameVal),"&cus_compony=",encodeURIComponent(_sCompanyVal),"&mobile=",encodeURIComponent(_sPhoneVal),"&cus_email=",encodeURIComponent(_sEmailVal),"&smscode=",encodeURIComponent(_sSmsCode)].join(""),onsuccess:function(e){i.hash("meeting/Succ")},onclienterror:function(e,t){"0"!=e?"-201"==e?i.showErr("\u9a8c\u8bc1\u7801\u9519\u8bef"):i.showErr("\u767b\u8bb0\u5931\u8d25"):i.hash("meeting/Succ")}})}}},init_:function(e){this.superEx_(t,"init_",[e])}}})}),$["package"]("biz/portal/ctrl/confirmbind.js",["biz/comm/ctrl/mod.js"],function(e){var t=QMWin;t.ctor_();t.createCtrl("B.Portal.Confirmbind",{sSuper:"B.Mod",bStatic:!0},function(t){return{validLibs:function(){return[{name:"FormValid.Default"}]},rule:function(){return{click:{close:{},changeVCImage:{sContext:"vc"}}}},route:function(){return["confirmbind",[["fill,{alias},{binddomain},{ownerid},{bindtype},{bindfrom},{bindkey}",{bCache:!0,sUrl:"/cgi-bin/readtemplate?check=false&t=biz_bind&tt=fill&alias={alias}&binddomain={binddomain}&ownerid={ownerid}&bindtype={bindtype}&bindfrom={bindfrom}&bindkey={bindkey}",sAction:"fill"}],["success",{bCache:!0,sUrl:"/cgi-bin/readtemplate?check=false&t=biz_bind&&tt=success",sAction:"countdown"}]]]},events:function(){return{close:function(){var e=this.$.inWin();e.opener=null,e.open("","_self"),e.close()},changeVCImage:function(e,t,n){this.$.$(n).find("img").attr("src","/cgi-bin/getverifyimage?aid=23000101&"+$.random())}}},actions:function(){return{countdown:function(){!function i(e,t){var n=arguments;t.html(e),0<e?(e--,setTimeout(function(){n.callee(e,t)},1e3)):location.href="/login"}(5,this.$.$("#spnCount"))},fill:function(){var n=this;n.ajaxForm({onsuccess:function(){n.hash("confirmbind/success")},onclienterror:function(e,t){n.showErr(t||"\u5931\u8d25"),n.dom$().find("[ck='changeVCImage']").fireEvent("click")}})}}},init_:function(e){this.superEx_(t,"init_",[e])}}})}),$["package"]("biz/portal/ctrl/recovery.js",["biz/comm/ctrl/mod.js","biz/comm/lib/commevent.js","biz/admin/lib/safeEncrypt.js","biz/admin/ctrl/passwordvalid.js"],function(e){var t=QMWin,o=(t.ctor_(),t.lib("B.Data.safeEncrypt"));function s(e,t){(new Image).src="https://exmail.qq.com/qy_mng_logic/reportKV?type="+e+"&itemName="+t+"&r="+Math.random()}t.createCtrl("B.Portal.Recovery",{sSuper:"B.Mod",bStatic:!0},function(t){return{validLibs:function(){return[{name:"FormValid.Default"},{name:"B.Valid"}]},eventLibs:function(){return[{name:"B.Event.Comm"}]},pageLibs:function(){return[]},rule:function(){return{click:{changeRecoveryType:{},recoveryHelper:{}},keyup:{}}},route:function(){$.sid();return["recovery",[["send/{alias},{args}",{bCache:!0,sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_portal_recovery&tt=send&alias={alias}&{args}",sAction:"send"}],["recover/{alias},{type},{args}",{bCache:!0,sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_portal_recovery&tt=recover&alias={alias}&type={type}&{args}",sAction:"recover"}],["success/{alias}",{bCache:!0,sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_portal_recovery&tt=success&alias={alias}"}],["banreset/{alias},{args}",{bCache:!0,sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_portal_recovery&tt=banreset&alias={alias}&{args}"}],["",{bCache:!0,sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_portal_recovery",sAction:"stat"}]]]},actions:function(){return{stat:function(){(new Image).src="/cgi-bin/sellonlinestatic?type=nosession_str_statistics&businame=rtv_pwd&item=RetrievePwdClick&r="+Math.random();var n=this,t=$.$("#verifycode_recovery"),i=$.$(".verify_code_input_wrap"),o=$.$("#alias_input"),e=$.$("#recover_submit"),a=$.$("#alias_input_msg"),r=$.$("#verifycode_recovery_msg");n.ajaxForm({onbeforesubmit:function(){var e=$.$("[name='recoveryType']").attr("value"),t=$.$("input[name='alias']");return t.attr("value",$.trim(t.attr("value"))),"alias"!=e||/^[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t.attr("value"))?("account"==e?(new Image).src="/cgi-bin/sellonlinestatic?type=nosession_str_statistics&businame=rtv_pwd&item=RetrievePwdMemberClick&r="+Math.random():"alias"==e&&((new Image).src="/cgi-bin/sellonlinestatic?type=nosession_str_statistics&businame=rtv_pwd&item=RetrievePwdAdminClick&r="+Math.random()),!0):(o.attr("style").border="1px solid #F15A5A",a.html("\u8bf7\u8f93\u5165\u5408\u6cd5\u57df\u540d"),a.attr("style").display="",!1)},onsuccess:function(e){if(e.data&&!e.data.weixinname&&!e.data.mobile&&"alias"==$.$("#portal_recovery_form").attr("data-type"))return(new Image).src="/cgi-bin/sellonlinestatic?type=nosession_str_statistics&businame=rtv_pwd&item=RetrievePwdByCname&r="+Math.random(),s("ActiveCodeLogin","domain_verify_pv"),location.href="/qy_mng_logic/portal#/scan/"+$.$("input[name='alias']").attr("value")+"/",!1;e.data&&($.inWin().recoveryCode=e.data.code);var t=$.$("[name='recoveryType']").attr("value");"alias"==t&&"true"==e.data.wwbizmail?(n.hash("recovery/banreset/"+e.data.alias+",email="+e.data.email+"&area="+e.data.area+"&mobile="+encodeURIComponent(e.data.mobile)+"&type="+$.$("[name='recoveryType']").attr("value")+"&domainName="+e.data.domain+"&weixinname="+e.data.weixinname+"&resp_charset=UTF8"),s("ActiveCodeLogin","forget_pwd_admin_verify_pv")):(n.hash("recovery/send/"+e.data.alias+",email="+e.data.email+"&wwbizmail="+e.data.wwbizmail+"&wwbizmailcode="+e.data.wwbizmailcode+"&area="+e.data.area+"&mobile="+encodeURIComponent(e.data.mobile)+"&type="+$.$("[name='recoveryType']").attr("value")+"&domainName="+e.data.domain+"&resp_charset=UTF8&vid_bind_gid="+e.data.vid_bind_gid+"&active_code="+e.data.active_code+"&weixinname="+e.data.weixinname),"alias"==t?weixinname?s("ActiveCodeLogin","forget_pwd_admin_wechat_verify_pv"):s("ActiveCodeLogin","forget_pwd_admin_mobile_verify_pv"):weixinname?s("ActiveCodeLogin","forget_pwd_member_wechat_verify_pv"):s("ActiveCodeLogin","forget_pwd_member_mobile_verify_pv"),s("ActiveCodeLogin","domain_intro_pv"))},onclienterror:function(e,t){"\u5e10\u53f7\u6216\u57df\u540d\u9519\u8bef"==t&&(t=1==n.dom$().find("[name='recovery_type_choose']").data(0).checked?"\u5e10\u53f7\u8f93\u5165\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165":"\u57df\u540d\u8f93\u5165\u6709\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),"-101"==e?(i.attr("style").border="1px solid #F15A5A",r.html(t),r.attr("style").display=""):(o.attr("style").border="1px solid #F15A5A",a.html(t||"\u5e10\u53f7\u6216\u57df\u540d\u4e0d\u5b58\u5728"),a.attr("style").display=""),n.dom$().find("[ck='changeVCImage']").fireEvent("click")}}),n.dom$().find("[ck='changeVCImage']").fireEvent("click"),t.on("mouseover",function(e){i.attr("style").border="1px solid #A0AAB4"}),t.on("mouseout",function(e){i.attr("style").border="1px solid #C9C9C9"}),t.on("focus",function(e){i.attr("style").border="1px solid #5A86E1",r.attr("style").display="none"}),t.on("blur",function(e){i.attr("style").border="1px solid #C9C9C9"}),o.on("focus",function(e){o.attr("style").border="1px solid #5A86E1",a.attr("style").display="none"}),o.on("blur",function(e){o.attr("style").border="1px solid #C9C9C9"}),e.on("click",function(e){return""===o.attr("value")?(o.attr("style").border="1px solid #F15A5A",a.html("\u8bf7\u8f93\u5165\u5e10\u53f7\u6216\u57df\u540d"),a.attr("style").display="",!1):""===t.attr("value")?(i.attr("style").border="1px solid #F15A5A",r.html("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"),r.attr("style").display="",!1):(s("ActiveCodeLogin","account"==$.$("[name='recoveryType']").attr("value")?"forget_pwd_member_click":"forget_pwd_admin_click"),!0)})},send:function(){var o=this;if(!document.getElementById("recoveryCode")){var e=$.inWin().document.createElement("input");e.name="code",e.type="hidden",e.value=$.inWin().recoveryCode,e.id="recoveryCode",$.inWin().document.forms[0].appendChild(e)}o.ajaxForm({onbeforesubmit:function(){return!0},onsuccess:function(e){var t=$.$("input[name='type'][checked]").attr("rtype");t&&((new Image).src="/cgi-bin/sellonlinestatic?type=nosession_str_statistics&businame=rtv_pwd&item="+t+"&r="+Math.random());var n=$.$("input[name=wwbizmail]").attr("value"),i=$.$("input[name=wwbizmailcode]").attr("value");o.hash("recovery/recover/"+e.data.alias+","+e.data.type+",domainName="+$.$("[name='domain']").attr("value")+"&mobile="+encodeURIComponent($.$("[name='mobile']").attr("value"))+"&wwbizmail="+n+"&wwbizmailcode="+encodeURIComponent(i))},onclienterror:function(e,t){o.showErr(t||"\u53d1\u9001\u9a8c\u8bc1\u7801\u5931\u8d25")}})},recover:function(t){var n=this;if($.inWin().document.body.onbeforeunload=function(){return"\u4f60\u8981\u653e\u5f03\u627e\u56de\u5bc6\u7801\u5417\uff1f"},console.log("rererere"),$.ctrl("B.PasswordValid",{sPassword:"input[name='passwd']",fGetAlias:function(){return $.$("[name='alias']").attr("value").split("@")[0]}}),!document.getElementById("recoveryCode")){var e=$.inWin().document.createElement("input");e.name="code",e.type="hidden",e.value=$.inWin().recoveryCode,e.id="recoveryCode",$.inWin().document.forms[0].appendChild(e)}var i=$.$("input[name='ts']").attr("value");n.ajaxForm({onbeforesubmit:function(){var e=o.passwordEncrypt(i,$.trim($.$("input[id='passwd']").attr("value"))),t=o.passwordEncrypt(i,$.trim($.$("input[id='passwd2']").attr("value")));return $.$("input[id='passwd']").rmAttr("name"),$.$("input[id='passwd2']").rmAttr("name"),e&&t?($.$("input[name='passwd']").attr("value",e),$.$("input[name='passwd2']").attr("value",t),!0):(n.showErr("\u7cfb\u7edf\u9519\u8bef\uff0c\u9519\u8bef\u7801\uff1apwd"),!1)},onsuccess:function(e){$.inWin().document.body.onbeforeunload=null,s("ActiveCodeLogin","forget_pwd_verify_phone_succ"),n.hash("recovery/success/"+t)},onclienterror:function(e,t){n.showErr(t||"\u91cd\u7f6e\u5bc6\u7801\u5931\u8d25")}})}}},events:function(){return{changeRecoveryType:function(e,t,n){var i=this.$,o=i.$(t).attr("data-type"),a=i.$("#portal_recovery_form");a.rmClass("portal_recovery_"+a.attr("data-type")).addClass("portal_recovery_"+o).attr("data-type",o),i.$("input[name='recoveryType']").attr("value",o);var r={account:"\u6210\u5458\u5e10\u53f7",alias:"\u6ce8\u518c\u57df\u540d"};i.$(".recovery_msg").attr("validMsg",r[o]||"\u5e10\u53f7"),i.$(".recovery_msg").find(".valid_msg").html("\u8bf7\u8f93\u5165"+r[o])},recoveryHelper:function(e,t,n){var i=this.$.$(t),o=i.attr("data-domain");i.attr("data-type");(new Image).src="/cgi-bin/sellonlinestatic?type=nosession_str_statistics&businame=rtv_pwd&item=RetrievePwdByCname&r="+Math.random(),s("ActiveCodeLogin","domain_verify_pv"),location.href="/qy_mng_logic/portal#/scan/"+o+"/"}}},init_:function(e){this.superEx_(t,"init_",[e])}}})}),$["package"]("biz/portal/ctrl/premium.js",["biz/comm/ctrl/mod.js","biz/comm/lib/commevent.js","biz/comm/lib/location.js"],function(e){var t=QMWin,i=(t.ctor_(),t.lib("B.Lib.Location"));t.createCtrl("B.Portal.Premium",{sSuper:"B.Mod",bStatic:!0},function(t){return{validLibs:function(){return[{name:"FormValid.Default"},{name:"B.Valid"}]},eventLibs:function(){return[{name:"B.Event.Comm"}]},pageLibs:function(){return[]},rule:function(){return{click:{queryAgent:{},sendSms:{}},keyup:{queryAgentByKeyUp:{}}}},route:function(){return["premium",[["searchfranchiser/{key}",{bCache:!0,sUrl:"/cgi-bin/bizmail_portal?action=query_agent&check=false&t=biz_rf_portal_premium&s=searchfranchiser&key={key}&resp_charset=UTF8"}],["searchfranchiser",{bCache:!0,sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_portal_premium&s=searchfranchiser"}],["agentapply[,{ip}]",{bCache:!0,sUrl:"/cgi-bin/bizmail_portal?action=get_location&t=biz_rf_portal_premium&s=join_form&ip={ip}",sAction:"agentapply"}],["agentsubmit",{bCache:!0,sUrl:"/cgi-bin/readtemplate?check=false&t=biz_rf_portal_premium&s=join_submit",sAction:"agentsubmit"}]]]},actions:function(){return{agentapply:function(){var n=this;$=this.$,i.init({prov:$.$("select[un='prov']"),city:$.$("select[un='city']")}),n.autofocus(),n.ajaxForm({onsuccess:function(e){n.hash("premium/agentsubmit")},onclienterror:function(e,t){n.showErr(t||"\u63d0\u4ea4\u7533\u8bf7\u5931\u8d25"),n.dom$().find("[ck='changeVCImage']").fireEvent("click")}}),n.dom$().find("input[name='verifycode']").on("focus",function(){n.dom$().find("img[un='verifyimage']").attr("src")||(n.dom$().find("[un='vcdisplay']").show(),n.dom$().find("[ck='changeVCImage']").fireEvent("click"))}),$.$("[tips]").on("focus",function(){$.$(this).parents("div.f-content").find("[un='tips']").css("visibility","visible")}).on("blur",function(){$.$(this).parents("div").find("[un='tips']").css("visibility","hidden")})},agentsubmit:function(){this.$.$("[un='topNavBar']").find("a[un='portal_premium']").addClass("on")}}},events:function(){return{sendSms:function(e,t,n){var i=this,o=i.$.$(t),a=i.$.$(n),r=$.trim(i.$.$("#mobile").attr("value"));i.valid_(a)&&i.ajax({sType:"GET",sUrl:"/cgi-bin/bizmail_portal?t=biz_rf_mgr&action=send_smsex&type=0&mobile="+r,onsuccess:function(){i.showMsg("\u53d1\u9001\u9a8c\u8bc1\u7801\u6210\u529f"),o.html("\u91cd\u65b0\u53d1\u9001\u9a8c\u8bc1\u7801")},onclienterror:function(e,t){i.showErr("\u53d1\u9001\u9a8c\u8bc1\u7801\u5931\u8d25")},onerror:function(e,t){i.showErr("\u53d1\u9001\u9a8c\u8bc1\u7801\u5931\u8d25")}})},queryAgent:function(e,t,n){var i=this.$.$("#key").attr("value")||"";this.hash("premium/searchfranchiser/"+encodeURIComponent(i),!0)},queryAgentByKeyUp:function(e,t,n){var i=this.$;if(13==e.keyCode){var o=i.$("#key").attr("value")||"";this.hash("premium/searchfranchiser/"+encodeURIComponent(o),!0)}}}},init_:function(e){this.superEx_(t,"init_",[e])}}})}),$["package"]("biz/portal/app/portal.js",["comm/ctrl/cachemgr.js","comm/ctrl/tagevent.js","comm/ctrl/history.js","comm/extend/qmcgi.js","comm/framework/Page/app/base.js","biz/comm/ctrl/mod.js","biz/portal/ctrl/index.js"],function(e){QMWin.createApp("B.Portal",{sSuper:"Page.Base"},function(t){return{app_:function(){return"B.Portal"},init_:function(e){this.superEx_(t,"init_",[e])},initData_:function(e){this.$;return this},initRoute_:function(e){var n=this.$,i="#tipsTop",o="#tipsError";e.addEvent("loading",function(){n.$(i).hide().$(i).html('\u6b63\u5728\u52a0\u8f7d<span class="ico_loading_dotted"></span>').show()}).addEvent("loaded",function(){n.$(i).hide(),n.$(o).hide()}).addEvent("error",function(e){var t=(e||{}).message||"unknow error";n.$(i).hide().$(o).html(t).show(),setTimeout(function(){n.$(o).hide()},5e3)})}}})});