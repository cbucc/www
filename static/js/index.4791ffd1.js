/*! For license information please see index.4791ffd1.js.LICENSE.txt */
"use strict";(self.webpackChunktucao=self.webpackChunktucao||[]).push([[2348],{72701:function(e,t,n){n.d(t,{c:function(){return I}});var a=n(87462),o=n(51721),r=n(67294),i=n(45697),A=n.n(i),s=n(94184),c=n.n(s),l=n(9131),f=n(64724),u=n(5732),d=n(97326),g=n(66916),m=n(29371),p=n(64265),h=n(48915),B=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={is_slide:!1},n.onClickWindow=n.onClickWindow.bind((0,d.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.onClickWindow,!1)},n.onClickWindow=function(){this.setState({is_slide:!1})},n.onClickAvatar=function(e){e.stopPropagation(),this.setState({is_slide:!this.state.is_slide})},n.render=function(){var e=this,t=this.props,n=this.state,a=(0,p.f)()&&t.productInfo.is_tencent_product&&t.productInfo.access_type===h.D.PRIVATE;return r.createElement("div",{className:"notification"},t.is_admin&&r.createElement("a",{title:"管理后台",href:(0,f.In)(t.is_admin),target:"_blank",className:"link_enter",rel:"noreferrer"},r.createElement(m.Hc,null)),r.createElement("span",{className:"login_avatar",onClick:function(t){return e.onClickAvatar(t)},role:"button",tabIndex:"0"},r.createElement(u.Avatar,{src:t.avatar})),r.createElement("div",{className:c()("menu_list",{slide_show:n.is_slide,has_enterprise:a})},r.createElement("a",{href:(0,f.Ik)(t.user_id),className:"menu_item"},r.createElement(g.Z,{type:"mine-light",className:"tcIcon_mine"}),"个人中心"),a&&r.createElement("a",{href:"https://"+location.host+"/enterprise/"+t.cid+"/home",target:"_blank",className:"menu_item",rel:"noreferrer"},r.createElement(m.rf,null),"腾讯惜议"),r.createElement("button",{onClick:t.onLogout,className:"menu_item"},r.createElement(m.xw,null),"退出登录")))},t}(r.Component),Q=n(70272),C="data:image/jpeg;base64,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",E=n(13501),b=window._TC_PRODUCT_ID,I=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={accountInfo:{},userInfo:{},productInfo:{},hasFaqs:!1,hasBlog:!1},n.productId=b||(0,f.Ic)().productId,n}(0,o.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this,t=this.props,n=this.productId;(0,l.get_api_account)().then((function(n){e.setState({accountInfo:n.data}),t.getAccountInfo(n)})),(0,l.get_api_user_info)({productId:n}).then((function(n){e.setState({userInfo:n.data}),e.goBlackList(n.data.credit_level),t.getUserInfo(n)})).catch((function(e){var n;5002===(null==(n=e.response)?void 0:n.status)&&Q.message.error("您不是管理员，请使用 QQ 或微信账号登录",3e3,(function(){window.location.reload()})),t.getUserInfo((0,a.Z)({},e,{data:{}}))})),(0,l.get_api_products_info)(n).then((function(n){e.setState({productInfo:n.data}),e.goBlackList(n.data.credit_level),n.data.banner_images?t.getBannerUrl(n.data.banner_images.header_image_pc):t.getBannerUrl(),t.getProductInfo(n)})),t.getFaqs&&(0,l.get_api_faqs)({productId:n}).then((function(n){e.setState({hasFaqs:Boolean(n.data.length)}),"function"==typeof t.getFaqs&&t.getFaqs(n)})),t.getTeamblog&&(0,l.post_api_teamblog_list)({productId:n}).then((function(n){e.setState({hasBlog:Boolean(n.data.length)}),"function"==typeof t.getTeamblog&&t.getTeamblog(n)}))},n.goBlackList=function(e){var t=/blacklist/.test(location.pathname);"high_risk"!==e||t||(location.href=(0,f.Uc)())},n.onLogout=function(){localStorage.removeItem("isGood"),(0,l.get_api_mobile_logout_with_id)(this.productId).then((function(e){return location.reload()}))},n.render=function(){var e=this,t=this.props,n=this.state,o=n.userInfo.user_id,i=n.productInfo,A=i.product_name,s=i.logo,l=i.related,d=void 0===l?{}:l,g=n.hasFaqs||t.hasFaqList,m=n.hasBlog||t.hasBlogList,Q=t.hasRelated&&d.related_name&&d.related_link,b=n.productInfo.is_tencent_product&&n.productInfo.access_type===h.D.PRIVATE,I=Q||b,k=(0,p.f)()&&b;return r.createElement(r.Fragment,null,r.createElement("div",{className:c()("header",t.className)},I&&r.createElement("div",{className:"back-to-origin"},r.createElement("div",{className:"container"},function(){if(d.related_link){var e=Q&&d.related_name;return r.createElement("a",{href:(0,f.b2)(d.related_link),target:"_blank",rel:"noreferrer"},"<02返回02",e)}return null}(),d.related_link&&k?r.createElement("span",{className:"back-to-origin-split"},"|"):null,k?r.createElement("a",{href:"https://"+location.host+"/enterprise/"+n.accountInfo.cid+"/home",target:"_blank",rel:"noreferrer"},"腾讯惜议"):null)),r.createElement("div",{className:"header-main container"},r.createElement("a",{className:"header_logo",href:(0,f.iY)()},s&&r.createElement("span",{className:"logo"},r.createElement(u.Avatar,{defaultImg:C,src:s})),r.createElement("span",{className:"text"},(0,E.Bv)(A||"",8))),o?r.createElement(B,(0,a.Z)({},n.userInfo,{productInfo:n.productInfo,cid:n.accountInfo.cid,onLogout:function(){return e.onLogout()}})):r.createElement("div",{className:"header_enter"},r.createElement("span",{className:"user_login",onClick:t.onShowLogin,role:"button",tabIndex:"0"},"登录")),r.createElement("div",{className:"header_nav"},r.createElement("div",{className:"nav_menu"},(g||m)&&r.createElement("a",{className:"active",href:(0,f.iY)()},"首页"),g&&r.createElement("a",{className:"active",href:(0,f.wc)()},"常见问题"),m&&r.createElement("a",{className:"active",href:(0,f.$6)()},"团队博客"))))))},t}(r.Component);I.defaultProps={name:"",logo:C,getBannerUrl:function(){},getAccountInfo:function(){},getUserInfo:function(){},getProductInfo:function(){},onShowLogin:function(){},hasRelated:!0,hasFaqList:!1,hasBlogList:!1},I.propTypes={name:A().string,logo:A().string,id:A().number,userInfo:A().object,className:A().string,getAccountInfo:A().func,getUserInfo:A().func,getProductInfo:A().func,onShowLogin:A().func,related_name:A().string,related_link:A().string,hasFaqList:A().bool,hasBlogList:A().bool,getBannerUrl:A().func,getFaqs:A().func,getTeamblog:A().func,hasRelated:A().bool}},28576:function(e,t,n){var a=n(75114),o=n.n(a),r=n(13501),i=function(){function e(){this.aegis=new(o())({id:"YNwAyjjxllivmjMugC",reportApiSpeed:!0,reportAssetSpeed:!0})}var t=e.prototype;return t.setUserId=function(e){this.aegis.setConfig({uin:e})},t.report=function(e){var t=e.action,n=e.value;this.aegis.reportEvent({name:t,ext1:n,ext2:(0,r.Wv)()})},e}();t.Z=new i}}]);
//# sourceMappingURL=index.4791ffd1.js.map