/*! For license information please see index.af7308e2.js.LICENSE.txt */
"use strict";(self.webpackChunktucao=self.webpackChunktucao||[]).push([[3879],{11998:function(e,t,n){n.d(t,{s:function(){return g}});var o=n(43144),a=n(51721),r=n(67294),i=n(45697),c=n.n(i),l=n(8313),s=n(13501),u=n(9131),f=n(5732),A="isAgreement",g=function(e){function t(n){var o;return(o=e.call(this,n)||this).iframeRef=(0,r.createRef)(),o.state={agreement:t.getIsAgreement(),token:"",type:1,showExternalOALogin:""},o}(0,a.Z)(t,e),t.validRedirectUrl=function(e){return/^(https?:\/\/)?(txc|support)\.(qq|oa)\.com($|\/|\\)/i.test(e)},t.getIsAgreement=function(){try{return JSON.parse(localStorage.getItem(A))}catch(e){return!1}};var n=t.prototype;return n.componentDidMount=function(){this.state.agreement&&this.createToken()},n.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),this.willUnmount=!0},n.createToken=function(){var e=this;(0,u.post_api_auth_login_token_create)().then((function(t){e.setState({token:t.data.token,showExternalOALogin:t.data.enable_rtx_login}),e.loopCheck()}))},n.refreshToken=function(){this.setState({type:t.CODE.WAITING}),this.createToken()},n.loopCheck=function(){var e=this,n=this.state;this.props,console.log("检查"),(0,u.get_api_auth_login)({login_token:n.token}).then((function(n){if(!e.willUnmount)return n.data&&n.data.code===t.CODE.SUCCESS?(e.setState({type:t.CODE.SUCCESS}),void e.onLoginSuccess()):void(n.data&&n.data.code===t.CODE.EXPIRED?e.setState({type:t.CODE.EXPIRED,token:""}):(n.data&&n.data.code===t.CODE.PENDING&&e.setState({type:t.CODE.PENDING}),e.timer=setTimeout((function(){e.loopCheck()}),500)))}))},n.onLoginSuccess=function(){"function"!=typeof this.props.onSuccess?window.location.href=this.props.redirectUrl:this.props.onSuccess()},n.onAgreement=function(){this.setState({agreement:!0}),this.createToken(),localStorage.setItem(A,JSON.stringify(!0))},n.onLoadIframe=function(){if(this.iframeRef.current)try{this.iframeRef.current.contentWindow.document.getElementById("xy-title").style.display="none"}catch(e){}},n.render=function(){var e=this,t=this.state,n=this.props,o={display:n.showExternalQQLogin?"inline":"none"},a={marginLeft:20,display:t.showExternalOALogin?"inline":"none"},i=t.showExternalOALogin?[].concat(n.icon,[r.createElement(l.W2,{key:"wework"})]):n.icon,c=t.showExternalOALogin?"QQ、微信、企业微信数据不互通":n.footerText;return r.createElement("div",{className:"login-panel"},t.agreement?r.createElement(l.MX,{icons:i,platform:[],type:t.type,qrcode:this.oauthUrl,onRetry:function(t){return e.refreshToken()},external:[r.createElement("a",{className:"super_login_qq_link",href:(0,f.getQQConnectURL)(n.redirectUrl),key:"qq",style:o},"QQ帐号密码登录"),r.createElement("a",{className:"super_login_qq_link",href:(0,f.getIoaUrl)(n.redirectUrl),key:"ioa",style:a},"OA快捷登录")],title:n.title,footerText:c}):r.createElement("div",{className:"mod-agreement"},r.createElement("div",{className:"mod-agreement-title"},"腾讯兔小巢平台用户服务协议"),r.createElement("iframe",{title:"腾讯兔小巢平台用户服务协议",src:"/xy/agreement.html",frameBorder:"0",className:"mod-agreement-content",ref:this.iframeRef,onLoad:function(t){return e.onLoadIframe()}}),r.createElement("div",null,r.createElement("button",{className:"mod-agreement-btn",onClick:function(t){return e.onAgreement()}},"我已阅读并同意"))))},(0,o.Z)(t,[{key:"oauthUrl",get:function(){var e=this.state;return(0,s.P$)("dev_static")+"/login/oauth?login_token="+e.token}}]),t}(r.Component);g.CODE={EXPIRED:-1,WAITING:1,PENDING:2,SUCCESS:3},g.propTypes={title:c().string,redirectUrl:c().string,onSuccess:c().func},g.defaultProps={icon:[r.createElement(l.qs,{key:"qq"}),r.createElement(l.vE,{key:"wechat"})],footerText:"QQ、微信数据不互通",showExternalQQLogin:!0}},34670:function(e,t,n){function o(e){return void 0===e&&(e=location.href),"/login/qq-connect?tucao_redirect_url="+encodeURIComponent(e)}function a(e){void 0===e&&(e=location.href);var t=e.replace("https://"+location.host+"/","");"/"===t.slice(0,1)&&(t=t.substr(1));var n="https://"+location.host+"/login/oaTof?tucao_redirect_uri="+t;return"https://passport.woa.com/modules/passport/signin.ashx?oauth=true&url="+encodeURIComponent(n)+"&appkey=teg_tof_auth_txc"}n.d(t,{e:function(){return o},x:function(){return a}})},38156:function(e,t){t.Z="data:image/png;base64,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"}}]);
//# sourceMappingURL=index.af7308e2.js.map